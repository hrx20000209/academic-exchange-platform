{"version":3,"sources":["webpack:///./src/api/mysql.js","webpack:///src/views/Institution.vue","webpack:///./src/views/Institution.vue?b896","webpack:///./src/views/Institution.vue"],"names":["_ref2","_ref","api","getRealPic","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_asyncToGenerator___default","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator___default","a","mark","_callee","id","url","res","wrap","_context","prev","next","axios","responseType","sent","abrupt","stop","_this","_x","apply","this","arguments","getUsrId","_callee2","_context2","_x2","echarts","__webpack_require__","Institution","name","components","Nav_with_searchBox","nav_with_searchBox","data","redraw","maxSize","maxNameLen","pic","row_size","InstitutionName","members","RG_score","citeTime","AuthorPapers","AuthorCitation","paperCitation","papers","authors","currentPage","pagesize","currentPage_author","pagesize_author","years","y_cites","y_pub","modalShow","mounted","$route","query","console","log","test","methods","buildPie1","that","pie1","init","document","getElementById","pie2","pie3","pie4","color1","randomColor","color2","option1","backgroundColor","tooltip","trigger","formatter","legend","xAxis","yAxis","axisLine","lineStyle","color","width","series","type","itemStyle","option2","title","text","x","radius","label","alignTo","textStyle","labelLine","minShowLabelAngle","addColor","option3","option4","setOption","on","params","jump2authors","jump2papers","luanxu","arr","len","length","i","index","Math","floor","random","tem","list","r","g","b","handleCurrentChange","val","handleCurrentChange_author","pageAuthor","slice","hasOwnProperty","row","j","author","mysql","then","imgUrl","btoa","Uint8Array","reduce","byte","String","fromCharCode","push","rerender","_this2","elastic_search","getInstitutionMsg","info","hits","_source","fillCites","fillPaperCites","fillAuthorCites","fillAuthorPubs","fillAuthors","fillPapers","fillAttribute","$router","path","router","getPic","n_citation","n_pubs","pubs","item","tmp","sort","items","shortName","max","min","cites","year_citation","parseInt","_i","year_pubs","_items","_i2","$data","year","views_Institution","render","_vm","_h","$createElement","_c","_self","staticStyle","display","justify-content","flex-direction","_v","align-items","staticClass","_s","margin-top","margin-left","attrs","span","offset","font-family","font-weight","font-size","text-align","margin-bottom","height","_l","item1","index1","key","item2","index2","placement","effect","slot","cite","cursor","click","$event","background-color","src","flex-wrap","_e","small","layout","total","current-page","page-size","current-change","box-shadow","padding","background","align","staticRenderFns","Component","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/12.1e2ccb63c048e432f13a.js","sourcesContent":["import axios from \"axios\"\r\n\r\nconst api = {\r\n  getRealPic: async (id) =>{\r\n    let url = 'http://139.9.132.83:8000/user/getImage?author_id=' + id\r\n    const res = await axios({\r\n      url: url,\r\n      responseType: 'arraybuffer',\r\n    })\r\n    return res\r\n  },\r\n  getUsrId: async (id) =>{\r\n    let url = 'http://139.9.132.83:8000/user/get_user_id?author_id=' + id\r\n    const res = await axios({\r\n      url: url,\r\n    })\r\n    return res\r\n  },\r\n}\r\n\r\nexport default api\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/api/mysql.js","<template>\r\n  <div>\r\n    <el-container style=\"display: flex; justify-content: center; flex-direction: column\">\r\n      <div>\r\n        <Nav_with_searchBox></Nav_with_searchBox>\r\n      </div>\r\n      <el-main>\r\n        <div style=\"display: flex; flex-direction: column; align-items: center\">\r\n          <div class=\"IName\">\r\n            <el-col>\r\n              <el-row class=\"Iname_font\">\r\n                {{this.InstitutionName}}\r\n              </el-row>\r\n              <el-row style=\"margin-top: 23px; margin-left: 25px;\">\r\n                <el-row>\r\n                  <el-col :span=\"6\">\r\n                   <i class=\"el-icon-user\" style=\"color: #6E6E6E\">成员总数： <a style=\"color: #00BFFF\"> {{this.members}}</a> 人</i>\r\n                  </el-col>\r\n                  <el-col :span=\"6\">\r\n                   <i class=\"el-icon-collection-tag\" style=\"color: #6E6E6E\">论文引用总次数： <a style=\"color: #00BFFF\"> {{this.citeTime}}</a> 次</i>\r\n                  </el-col>\r\n                  <el-col :span=\"10\" :offset=\"1\">\r\n                    <i class=\"el-icon-star-on\" style=\"color: #6E6E6E\"> 总发布论文数: <a style=\"color: #00BFFF\">{{this.RG_score}}</a> 篇</i>\r\n                  </el-col>\r\n                </el-row>\r\n              </el-row>\r\n            </el-col>\r\n          </div>\r\n          <div class=\"statistics\">\r\n            <el-row>\r\n              <div style=\"\r\n              font-family: siyuan;\r\n              font-weight: bold;\r\n              font-size: 25px;\r\n              text-align: center;\r\n              margin-bottom: 40px;\r\n              margin-top: 20px;\r\n              \">\r\n                数据统计\r\n              </div>\r\n            </el-row>\r\n            <div style=\"width: 1000px; display: flex; justify-content: center\">\r\n              <div style=\"width: 475px;display: flex; justify-content: center\">\r\n                <div id=\"chart1\"></div>\r\n              </div>\r\n              <div style=\"width: 475px;display: flex; justify-content: center\">\r\n                <div id=\"chart2\"></div>\r\n              </div>\r\n            </div>\r\n            <div style=\"width:1000px;margin-top: 40px; margin-bottom: 60px;display: flex; justify-content: center\">\r\n              <div style=\"width: 475px;display: flex; justify-content: center\">\r\n                <div id=\"chart3\"></div>\r\n              </div>\r\n              <div style=\"width: 475px;display: flex; justify-content: center\">\r\n                <div id=\"chart4\"></div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class=\"authors\">\r\n            <div style=\"display: flex; flex-direction: column\">\r\n              <div style=\"\r\n              font-family: siyuan;\r\n              font-weight: bold;\r\n              font-size: 25px;\r\n              text-align: center;\r\n              margin-top: 20px;\r\n              height: 50px;\r\n              \">\r\n                成员列表\r\n              </div>\r\n              <div style=\"display: flex; justify-content: center;margin-bottom: 10px\">\r\n                <a style=\"font-family: Georgia; font-size: 20px; color:#2E9AFE\">{{this.members}}</a> <a style=\"font-family: siyuan; font-size: 13px; color:#848484;margin-left: 5px;\">名成员</a>\r\n              </div>\r\n              <div style=\"display: flex; flex-direction: column\">\r\n                <div v-if=\"modalShow\" style=\"display: flex; justify-content: center\">\r\n                  <div style=\"display: flex; flex-direction: column; width: 800px;\">\r\n                    <div v-for=\"(item1, index1) in authors.slice((currentPage_author - 1) * pagesize_author, currentPage_author * pagesize_author)\" :key=\"index1\" style=\"margin-top: 10px\">\r\n                      <div style=\"display: flex; justify-content: space-around\">\r\n                        <el-tooltip  v-for=\"(item2, index2) in item1\" :key=\"index2\" placement=\"top\" effect=\"light\">\r\n                          <div slot=\"content\">姓名：{{item2.name}}<br/>被引次数：{{item2.cite}}<br/>发表文章数：{{item2.pubs}}</div>\r\n                          <div style=\"display: flex; flex-direction: column;cursor: pointer\" @click=\"jump2authors(item2.id)\">\r\n                            <div style=\"display: flex; justify-content: center\">\r\n                              <el-avatar :src=\"pic[currentPage_author][index1*row_size+index2]\" style=\"margin-left: 10px;margin-top: 10px; background-color: #81DAF5\"/>\r\n                            </div>\r\n                            <div style=\"display: flex; justify-content: center; flex-wrap:wrap;width: 100px\">\r\n                              <div style=\"font-family: Gabriola; font-size: 16px;\">\r\n                                {{shortName(item2.name)}}\r\n                              </div>\r\n                            </div>\r\n                          </div>\r\n                        </el-tooltip>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <div style=\"display: flex; flex-direction: row; justify-content: center\">\r\n                  <el-pagination\r\n                  small\r\n                  layout=\"prev, pager, next\"\r\n                  :total=\"authors.length\"\r\n                  @current-change=\"handleCurrentChange_author\"\r\n                  :current-page=\"currentPage_author\"\r\n                  :page-size=\"pagesize_author\"\r\n                  style=\"margin-top: 30px\"\r\n                  class=\"greyPage\"\r\n                />\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class=\"papers\">\r\n            <div>\r\n              <div style=\"\r\n              font-family: siyuan;\r\n              font-weight: bold;\r\n              font-size: 25px;\r\n              text-align: center;\r\n              margin-bottom: 10px;\r\n              margin-top: 20px;\r\n              \">\r\n                论文概览\r\n              </div>\r\n            </div>\r\n            <div class=\"paperFather\">\r\n              <div v-for=\"(item, index) in papers.slice((currentPage - 1) * pagesize, currentPage * pagesize)\"\r\n                   :key=\"index\"\r\n                    style=\"font-family: Georgia;margin-top: 25px;\"\r\n              >\r\n                <div style=\"background-color: #FFF;\r\n                            box-shadow: 1px 2px 8px 1px rgba(0, 0, 0, .12), 0 0 12px rgba(0, 0, 0, .04);\r\n                            padding: 15px;\r\n                  \"\r\n                @click=\"jump2papers(item.id)\"\r\n                >\r\n                  <el-row>\r\n                  <el-col :span=\"1\">\r\n                    <div class=\"xuhao\">{{index+1}}</div>\r\n                  </el-col>\r\n                  <el-col :span=\"18\">\r\n                    <el-row style=\"margin-top: 5px\" class=\"paper_title\" >\r\n                      {{item.title}}\r\n                    </el-row>\r\n                    <!--<el-row class=\"paper_author\">\r\n                      {{item.author}}\r\n                    </el-row>\r\n                    <el-row class=\"paper_publication\">\r\n                      {{item.publication}}\r\n                    </el-row>-->\r\n                  </el-col>\r\n                  <el-col :span=\"4\">\r\n                    <div class=\"cites\">被引次数：{{item.cites}}</div>\r\n                  </el-col>\r\n                  </el-row>\r\n                </div>\r\n              </div>\r\n              <el-pagination\r\n                background\r\n                layout=\"prev, pager, next\"\r\n                :total=\"papers.length\"\r\n                @current-change=\"handleCurrentChange\"\r\n                :current-page=\"currentPage\"\r\n                :page-size=\"pagesize\"\r\n                align=\"center\"\r\n                style=\"margin-top: 30px; margin-bottom: 20px\"\r\n              />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </el-main>\r\n    </el-container>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import Api from \"../api/mysql\";\r\n\r\n  const echarts = require('echarts/lib/echarts')\r\n  import Nav_with_searchBox from \"../components/nav_with_searchBox\";\r\n  import ESApi from '../api/elastic search'\r\n    export default {\r\n        name: \"Institution\",\r\n      components: {Nav_with_searchBox},\r\n      data(){\r\n          return {\r\n            redraw:1,\r\n            maxSize: 100,\r\n            maxNameLen:10,\r\n            pic: {},\r\n            row_size: 6,\r\n            InstitutionName:'',\r\n            members:0,\r\n            RG_score:0,\r\n            citeTime:0,\r\n            AuthorPapers:[],\r\n            AuthorCitation:[],\r\n            paperCitation:[],\r\n            papers:[],\r\n            authors:[],\r\n            currentPage: 1,\r\n            pagesize: 7,\r\n            currentPage_author: 1,\r\n            pagesize_author: 3,\r\n            years:[],\r\n            y_cites:[],\r\n            y_pub:[],\r\n            modalShow:true,\r\n          }\r\n        },\r\n        mounted() {\r\n          let id = this.$route.query.id\r\n          console.log('id is', id)\r\n          this.test(id)\r\n          // this.handleCurrentChange_author(1)\r\n          // console.log('mounted:',this.years)\r\n          // this.buildPie1()\r\n        },\r\n        methods:{\r\n          buildPie1(that){\r\n            let pie1 = echarts.init(document.getElementById('chart1'))\r\n            let pie2 = echarts.init(document.getElementById('chart2'))\r\n            let pie3 = echarts.init(document.getElementById('chart3'))\r\n            let pie4 = echarts.init(document.getElementById('chart4'))\r\n            const color1 = this.randomColor()\r\n            const color2 = this.randomColor()\r\n            // console.log(this.y_cites)\r\n            // console.log(this.y_pub)\r\n            let option1={\r\n              backgroundColor: '#FFF',\r\n              tooltip: {\r\n                trigger: 'item',\r\n                formatter: \"{a} <br/>{b}年   {c}篇\"\r\n              },\r\n              legend:{\r\n                data:[\r\n                  {\r\n                    name:'Citation'\r\n                  },\r\n                  {\r\n                    name:'Publication'\r\n                  }\r\n                ]\r\n              },\r\n              xAxis:{\r\n                data:this.years,\r\n                //axisLabel: {\r\n\t\t\t\t\t\t    //    interval:3\r\n\t\t\t\t\t      //},\r\n              },\r\n              yAxis: [\r\n                {\r\n                  name: 'Citation',\r\n                  axisLine:{\r\n                    lineStyle:{\r\n                    color:color1,\r\n                    width:1,\r\n                    }\r\n                  }\r\n                },\r\n                {\r\n                  name: 'Publication',\r\n                  axisLine:{\r\n                    lineStyle: {\r\n                      color: color2\r\n                    }\r\n                  }\r\n                  // ...\r\n                }\r\n              ],\r\n              series: [\r\n                  {\r\n                    name:'Citation',\r\n                    type: 'bar',\r\n                    data: this.y_cites,\r\n                    itemStyle:{\r\n                      color:color1,\r\n                    }\r\n                  },\r\n                  {\r\n                    name:'Publication',\r\n                    type: 'bar',\r\n                    data: this.y_pub,\r\n                    itemStyle:{\r\n                      color:color2,\r\n                    }\r\n                  }\r\n                ]\r\n            }\r\n            // const pieColors1 = this.getColorList(this.AuthorPapers)\r\n            let option2={\r\n              // backgroundColor: '#FFF',\r\n              title: {\r\n                text: '成员发表论文量',\r\n                x: 'center'\r\n              },\r\n              tooltip: {\r\n                trigger: 'item',\r\n                formatter: \"{a} <br/>姓名：{b}<br/>文章数量：{c} ({d}%)\"\r\n              },\r\n              series: [\r\n                {\r\n                  name:'成员发表论文量',\r\n                  radius: ['55%', '70'],\r\n                  label: {\r\n                    alignTo: 'labelLine',\r\n                    textStyle:{\r\n                      color: ''\r\n                    }\r\n                  },\r\n                  labelLine:{\r\n                      // length: 1,\r\n                      // length2: 1,\r\n                  },\r\n                  minShowLabelAngle:4,\r\n                  type: 'pie',\r\n                  data: this.addColor(this.AuthorPapers),\r\n                }\r\n              ]\r\n            }\r\n            // let pieColors2 = this.getColorList(this.AuthorCitation)\r\n            let option3={\r\n              title: {\r\n                text: '成员被引用次数',\r\n                x: 'center'\r\n              },\r\n              tooltip: {\r\n                trigger: 'item',\r\n                formatter: \"{a} <br/>姓名：{b}<br/>被引用量：{c} ({d}%)\"\r\n              },\r\n              series:[\r\n                {\r\n                  name:'成员被引次数',\r\n                  radius: ['55%', '70'],\r\n                  label: {\r\n                    alignTo: 'labelLine',\r\n                    textStyle:{\r\n                      color: ''\r\n                    }\r\n                  },\r\n                  labelLine:{\r\n                      // length: 1,\r\n                      // length2: 1,\r\n                  },\r\n                  minShowLabelAngle:4,\r\n                  type: 'pie',\r\n                  data: this.addColor(this.AuthorCitation),\r\n                }\r\n              ]\r\n            }\r\n            let option4={\r\n              // backgroundColor: '#FFF',\r\n              title: {\r\n                text: '论文被引用量',\r\n                x: 'center'\r\n              },\r\n              tooltip: {\r\n                trigger: 'item',\r\n                formatter: \"{a} <br/>题目：{b}<br/>引用量：{c} ({d}%)\"\r\n              },\r\n              series: [\r\n                {\r\n                  name:'论文被引用量',\r\n                  radius: ['55%', '70'],\r\n                  label: {\r\n                    alignTo: 'labelLine',\r\n                    textStyle:{\r\n                      color: ''\r\n                    }\r\n                  },\r\n                  labelLine:{\r\n                      // length: 1,\r\n                      // length2: 1,\r\n                  },\r\n                  minShowLabelAngle:4,\r\n                  type: 'pie',\r\n                  data: this.addColor(this.paperCitation),\r\n                }\r\n\r\n              ]\r\n            }\r\n            pie1.setOption(option1)\r\n            pie2.setOption(option2)\r\n            pie3.setOption(option3)\r\n            pie4.setOption(option4)\r\n            pie2.on('click', function(params) {\r\n              console.log(params.data.id, params.data.name)\r\n              that.jump2authors(params.data.id)\r\n            })\r\n            pie3.on('click', function(params) {\r\n              console.log(params.data.id, params.data.name)\r\n              that.jump2authors(params.data.id)\r\n            })\r\n            pie4.on('click', function(params) {\r\n              that.jump2papers(params.data.id)\r\n            })\r\n          },\r\n          luanxu(arr) {\r\n            const len = arr.length;\r\n            for(let i=0;i<len;i++) {\r\n                let index = Math.floor(Math.random()*(len-i));\r\n                let tem = arr[index];\r\n                arr[index] = arr[len-i-1];\r\n                arr[len-i-1] = tem;\r\n            }\r\n            return arr\r\n          },\r\n          addColor(list) {\r\n          // console.log(list)\r\n          let res = list\r\n          for (let i = 0; i < list.length; i++) {\r\n            let item = list[i]\r\n            // console.log(item)\r\n            item['itemStyle']={color:this.randomColor()}\r\n          }\r\n          return res;\r\n        },\r\n          randomColor() {\r\n          let r = Math.floor(Math.random() * 256);\r\n          let g = Math.floor(Math.random() * 256);\r\n          let b = Math.floor(Math.random() * 256);\r\n          while (r*0.299 + g*0.578 + b*0.114 >= 140) {\r\n            r = Math.floor(Math.random() * 256);\r\n            g = Math.floor(Math.random() * 256);\r\n            b = Math.floor(Math.random() * 256);\r\n          }\r\n          let color = `rgb(${r},${g},${b})`\r\n          // let color= '#' + r.toString(16) + g.toString(16) + b.toString(16);\r\n          return color;\r\n        },\r\n          handleCurrentChange(val) {\r\n            this.currentPage = val;\r\n          },\r\n          handleCurrentChange_author(val) {\r\n            this.currentPage_author = val;\r\n            const pageAuthor = this.authors.slice((this.currentPage_author - 1) * this.pagesize_author, this.currentPage_author * this.pagesize_author)\r\n            console.log('pageAuthor is', pageAuthor)\r\n            if (!this.pic.hasOwnProperty(this.currentPage_author))\r\n              this.pic[this.currentPage_author] = []\r\n            for (let i = 0; i<pageAuthor.length; i++) {\r\n              const row = pageAuthor[i]\r\n              for (let j = 0; j< row.length; j++) {\r\n                const author = row[j]\r\n                Api.getRealPic(author.id).then(\r\n                  res => {\r\n                    const imgUrl='data:image/png;base64,' + btoa(new Uint8Array(res.data).reduce((data, byte) => data + String.fromCharCode(byte), ''))\r\n                    this.pic[this.currentPage_author].push(imgUrl)\r\n                    this.rerender()\r\n                    // this.pic.push(imgUrl)\r\n                  }\r\n                )\r\n              }\r\n            }\r\n            // this.redraw = this.currentPage_author\r\n            // console.log('picarr', this.pic)\r\n          },\r\n          rerender: function(){\r\n              this.modalShow = false;\r\n              this.modalShow = true;\r\n          },\r\n          test(id) {\r\n            let that=this\r\n            ESApi.getInstitutionMsg(id).then(\r\n              res=>{\r\n                // console.log('test id is', id)\r\n                let info = res.data.hits.hits[0]._source\r\n                console.log('info is ', info)\r\n                this.fillCites(info)\r\n                this.fillPaperCites(info)\r\n                this.fillAuthorCites(info)\r\n                this.fillAuthorPubs(info)\r\n                this.fillAuthors(info)\r\n                this.fillPapers(info)\r\n                this.fillAttribute(info)\r\n                this.buildPie1(that)\r\n                this.handleCurrentChange_author(1)\r\n              }\r\n            )\r\n          },\r\n          jump2authors(id){\r\n            // console.log('author id is', id)\r\n            this.$router.push({\r\n              path: '/authorPage',\r\n              query: {\r\n                id: id\r\n              }\r\n            })\r\n          },\r\n          jump2papers(id) {\r\n            let router = '/article/'+ id + '/overviews'\r\n            this.$router.push(router)\r\n          },\r\n          getPic(name, id) {\r\n            //TODO: input id output pic or bool\r\n            console.log('pic is',this.pic[id])\r\n            return this.pic[id]\r\n          },\r\n          fillAttribute(info){\r\n            this.members = info.authors.length\r\n            this.citeTime = info.n_citation\r\n            this.RG_score = info.n_pubs\r\n            this.InstitutionName = info.name\r\n          },\r\n          fillPapers(info){\r\n            for (let i=0; i<info.pubs.length; i++) {\r\n              let item = info.pubs[i]\r\n              let tmp = {}\r\n              tmp['id'] =  item.id\r\n              tmp['title'] = item.title\r\n              tmp['cites'] = item.n_citation\r\n              this.papers.push(tmp)\r\n            }\r\n          },\r\n          fillAuthors(info){\r\n            let row = []\r\n            let j = 0\r\n            for (let i=0; i<info.authors.length; i++){\r\n              let item = info.authors[i]\r\n              let tmp = {}\r\n              tmp['name'] = item.name\r\n              // tmp['pic'] = this.getPic(item.name, item.id)\r\n              tmp['id'] = item.id\r\n              tmp['pubs'] = item.n_pubs\r\n              tmp['cite'] = item.n_citation\r\n              /*Api.getRealPic(item.id).then(\r\n                res => {\r\n                  const imgUrl='data:image/png;base64,' + btoa(new Uint8Array(res.data).reduce((data, byte) => data + String.fromCharCode(byte), ''))\r\n                  this.pic.push(imgUrl)\r\n                }\r\n              )*/\r\n              row.push(tmp)\r\n              j++\r\n              if (j === this.row_size){\r\n                this.authors.push(row)\r\n                row = []\r\n                j = 0\r\n              }\r\n            }\r\n            if (j !== 0) {\r\n              this.authors.push(row)\r\n            }\r\n          },\r\n          fillAuthorCites(info){\r\n            info.authors.sort(function(a,b){return b.n_citation-a.n_citation})\r\n            let arr = info.authors.length>=this.maxSize?info.authors.slice(0, this.maxSize):info.authors\r\n            arr = this.luanxu(arr)\r\n            for (let i=0; i<arr.length; i++) {\r\n              let items = arr[i]\r\n              let tmp = {}\r\n              tmp['name'] = items.name\r\n              tmp['value'] = items.n_citation\r\n              tmp['id'] = items.id\r\n              this.AuthorCitation.push(tmp)\r\n            }\r\n          },\r\n          fillAuthorPubs(info){\r\n            info.authors.sort(function(a,b){return b.n_pubs-a.n_pubs})\r\n            let arr = info.authors.length>=this.maxSize?info.authors.slice(0, this.maxSize):info.authors\r\n            arr = this.luanxu(arr)\r\n            for (let i=0; i<arr.length; i++) {\r\n              let items = arr[i]\r\n              let tmp = {}\r\n              tmp['name'] = items.name\r\n              tmp['value'] = items.n_pubs\r\n              tmp['id'] = items.id\r\n              this.AuthorPapers.push(tmp)\r\n            }\r\n          },\r\n          shortName(name) {\r\n            let res\r\n            if (name.length>this.maxNameLen)\r\n              res = name.slice(0, this.maxNameLen) + '...'\r\n            else\r\n              res = name\r\n            return res\r\n          },\r\n          fillPaperCites(info){\r\n            // console.log('pubs', info.pubs)\r\n            info.pubs.sort(function(a,b){return b.n_citation-a.n_citation})\r\n            let arr = info.pubs.length>=this.maxSize?info.pubs.slice(0, this.maxSize):info.pubs\r\n            arr = this.luanxu(arr)\r\n            for (let i=0; i<arr.length; i++) {\r\n              let items = arr[i]\r\n              let tmp = {}\r\n              tmp['name'] = items.title\r\n              tmp['value'] = items.n_citation\r\n              tmp['id'] = items.id\r\n              this.paperCitation.push(tmp)\r\n            }\r\n          },\r\n          fillCites(info){\r\n            let max=0;\r\n            let min=9999;\r\n            let tmp;\r\n            let cites = {}\r\n            let pubs = {}\r\n            // console.log('cites info', info.year_citation)\r\n            for (let i = 0; i < info.year_citation.length; i++) {\r\n              let items = info.year_citation[i]\r\n              tmp = parseInt(items['year'])\r\n              cites[items['year']]=items['cnt']\r\n              if (tmp>max)\r\n                max=tmp\r\n              if (tmp<min)\r\n                min=tmp\r\n            }\r\n            for (let i = 0; i < info.year_pubs.length; i++) {\r\n              let items = info.year_pubs[i]\r\n              tmp = parseInt(items['year'])\r\n              pubs[items['year']]=items['cnt']\r\n              if (tmp>max)\r\n                max=tmp\r\n              if (tmp<min)\r\n                min=tmp\r\n            }\r\n            //console.log(max, min)\r\n            for(let i=min, j=0; i<=max; i++, j++) {\r\n              this.$data.years.push(i)\r\n              let year = ''+i\r\n              if (cites.hasOwnProperty(year))\r\n                this.y_cites[j] = cites[year]\r\n              else\r\n                this.y_cites[j] = 0\r\n\r\n              if (pubs.hasOwnProperty(year))\r\n                this.y_pub[j] = pubs[year]\r\n              else\r\n                this.y_pub[j] = 0\r\n            }\r\n            // console.log(JSON.parse(JSON.stringify(this.years)))\r\n            // console.log(this.y_cites)\r\n            // console.log(this.y_pub)\r\n\r\n          },\r\n      }\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n.IName {\r\n  background-color: #FAFAFA;\r\n  height: 120px;\r\n  width: 1050px;\r\n  margin-top: 15px;\r\n  margin-left: 20px;\r\n  border-radius: 25px;\r\n  box-shadow: 1px 2px 8px 1px rgba(0, 0, 0, .12), 0 0 12px rgba(0, 0, 0, .04)\r\n}\r\n.Iname_font {\r\n  background-image:  linear-gradient(#e66465,#9198e5,#A9F5BC);\r\n  -webkit-background-clip: text;\r\n  -webkit-text-fill-color: transparent;\r\n  font-size: 30px;\r\n  margin-top: 25px;\r\n  margin-left: 25px;\r\n}\r\n.statistics {\r\n  background-color: #FAFAFA;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  min-height: 600px;\r\n  margin-top: 30px;\r\n  width: 1050px;\r\n  margin-left: 20px;\r\n  box-shadow: 1px 2px 8px 1px rgba(0, 0, 0, .12), 0 0 12px rgba(0, 0, 0, .04)\r\n\r\n}\r\n#chart1 {\r\n  background-color: white;\r\n  border:5px white;\r\n  border-radius: 30px;\r\n  padding: 15px;\r\n  width: 380px;\r\n  height: 380px;\r\n  box-shadow: 1px 2px 8px 1px rgba(0, 0, 0, .12), 0 0 12px rgba(0, 0, 0, .04);\r\n}\r\n#chart2 {\r\n  background-color: white;\r\n  border:5px white;\r\n  border-radius: 30px;\r\n  padding: 15px;\r\n  width: 380px;\r\n  height: 380px;\r\n  box-shadow: 1px 2px 8px 1px rgba(0, 0, 0, .12), 0 0 12px rgba(0, 0, 0, .04);\r\n}\r\n#chart3 {\r\n  background-color: white;\r\n  border:5px white;\r\n  border-radius: 30px;\r\n  padding: 15px;\r\n  width: 380px;\r\n  height: 380px;\r\n  box-shadow: 1px 2px 8px 1px rgba(0, 0, 0, .12), 0 0 12px rgba(0, 0, 0, .04);\r\n}\r\n#chart4 {\r\n  background-color: white;\r\n  border:5px white;\r\n  border-radius: 30px;\r\n  padding: 15px;\r\n  width: 380px;\r\n  height: 380px;\r\n  box-shadow: 1px 2px 8px 1px rgba(0, 0, 0, .12), 0 0 12px rgba(0, 0, 0, .04);\r\n}\r\n.papers {\r\n  display: flex;\r\n  align-items: center;\r\n  flex-direction: column;\r\n  background-color: #FAFAFA;\r\n  height: auto;\r\n  width: 1050px;\r\n  margin-left: 20px;\r\n  box-shadow: 1px 2px 8px 1px rgba(0, 0, 0, .12), 0 0 12px rgba(0, 0, 0, .04);\r\n  margin-top:35px;\r\n\r\n}\r\n.paperFather{\r\n  width: 900px;\r\n  margin-bottom: 40px;\r\n}\r\n.paper_content {\r\n  background-color: #FFFFFF;\r\n  box-shadow: 1px 2px 8px 1px rgba(0, 0, 0, .12), 0 0 12px rgba(0, 0, 0, .04);\r\n  width: 900px;\r\n  display: flex;\r\n}\r\n.paper_title:hover{\r\n  color: \t#d7df07;\r\n  cursor: pointer;\r\n}\r\n.paper_author{\r\n  color: #A4A4A4;\r\n  font-size: 13px;\r\n}\r\n.paper_author:hover{\r\n  color: #01DF74;\r\n  cursor: pointer;\r\n}\r\n.paper_publication {\r\n  color: #A4A4A4;\r\n  font-size: 13px;\r\n}\r\n.paper_publication:hover{\r\n  color: #01A9DB;\r\n  cursor:pointer;\r\n}\r\n.authors {\r\n  background-color: #FAFAFA;\r\n  height: auto;\r\n  width: 1050px;\r\n  margin-left: 20px;\r\n  box-shadow: 1px 2px 8px 1px rgba(0, 0, 0, .12), 0 0 12px rgba(0, 0, 0, .04);\r\n  margin-top:35px;\r\n}\r\n.greyPage {\r\n  margin-bottom: 20px;\r\n}\r\n.greyPage /deep/ button.btn-prev {\r\n  background-color: #FAFAFA;\r\n}\r\n.greyPage /deep/ button.btn-next {\r\n  background-color: #FAFAFA;\r\n}\r\n.greyPage /deep/ li.number {\r\n  background-color: #FAFAFA;\r\n}\r\n.xuhao {\r\n  background-color: cornflowerblue;\r\n  text-align: center;\r\n  border-radius: 30px;\r\n  font-family: Gadugi;\r\n  font-size: 13px;\r\n  width: 25px;\r\n  margin-top: 5px;\r\n  color: #FFF;\r\n}\r\n.cites{\r\n  background-color: #BDBDBD;\r\n  text-align: center;\r\n  border-radius: 30px;\r\n  font-family: Gadugi;\r\n  font-size: 13px;\r\n  margin-top: 10px;\r\n  margin-left: 40px;\r\n  width: 120px;\r\n  color: #FFF;\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/views/Institution.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-container',{staticStyle:{\"display\":\"flex\",\"justify-content\":\"center\",\"flex-direction\":\"column\"}},[_c('div',[_c('Nav_with_searchBox')],1),_vm._v(\" \"),_c('el-main',[_c('div',{staticStyle:{\"display\":\"flex\",\"flex-direction\":\"column\",\"align-items\":\"center\"}},[_c('div',{staticClass:\"IName\"},[_c('el-col',[_c('el-row',{staticClass:\"Iname_font\"},[_vm._v(\"\\n              \"+_vm._s(this.InstitutionName)+\"\\n            \")]),_vm._v(\" \"),_c('el-row',{staticStyle:{\"margin-top\":\"23px\",\"margin-left\":\"25px\"}},[_c('el-row',[_c('el-col',{attrs:{\"span\":6}},[_c('i',{staticClass:\"el-icon-user\",staticStyle:{\"color\":\"#6E6E6E\"}},[_vm._v(\"成员总数： \"),_c('a',{staticStyle:{\"color\":\"#00BFFF\"}},[_vm._v(\" \"+_vm._s(this.members))]),_vm._v(\" 人\")])]),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":6}},[_c('i',{staticClass:\"el-icon-collection-tag\",staticStyle:{\"color\":\"#6E6E6E\"}},[_vm._v(\"论文引用总次数： \"),_c('a',{staticStyle:{\"color\":\"#00BFFF\"}},[_vm._v(\" \"+_vm._s(this.citeTime))]),_vm._v(\" 次\")])]),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":10,\"offset\":1}},[_c('i',{staticClass:\"el-icon-star-on\",staticStyle:{\"color\":\"#6E6E6E\"}},[_vm._v(\" 总发布论文数: \"),_c('a',{staticStyle:{\"color\":\"#00BFFF\"}},[_vm._v(_vm._s(this.RG_score))]),_vm._v(\" 篇\")])])],1)],1)],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"statistics\"},[_c('el-row',[_c('div',{staticStyle:{\"font-family\":\"siyuan\",\"font-weight\":\"bold\",\"font-size\":\"25px\",\"text-align\":\"center\",\"margin-bottom\":\"40px\",\"margin-top\":\"20px\"}},[_vm._v(\"\\n              数据统计\\n            \")])]),_vm._v(\" \"),_c('div',{staticStyle:{\"width\":\"1000px\",\"display\":\"flex\",\"justify-content\":\"center\"}},[_c('div',{staticStyle:{\"width\":\"475px\",\"display\":\"flex\",\"justify-content\":\"center\"}},[_c('div',{attrs:{\"id\":\"chart1\"}})]),_vm._v(\" \"),_c('div',{staticStyle:{\"width\":\"475px\",\"display\":\"flex\",\"justify-content\":\"center\"}},[_c('div',{attrs:{\"id\":\"chart2\"}})])]),_vm._v(\" \"),_c('div',{staticStyle:{\"width\":\"1000px\",\"margin-top\":\"40px\",\"margin-bottom\":\"60px\",\"display\":\"flex\",\"justify-content\":\"center\"}},[_c('div',{staticStyle:{\"width\":\"475px\",\"display\":\"flex\",\"justify-content\":\"center\"}},[_c('div',{attrs:{\"id\":\"chart3\"}})]),_vm._v(\" \"),_c('div',{staticStyle:{\"width\":\"475px\",\"display\":\"flex\",\"justify-content\":\"center\"}},[_c('div',{attrs:{\"id\":\"chart4\"}})])])],1),_vm._v(\" \"),_c('div',{staticClass:\"authors\"},[_c('div',{staticStyle:{\"display\":\"flex\",\"flex-direction\":\"column\"}},[_c('div',{staticStyle:{\"font-family\":\"siyuan\",\"font-weight\":\"bold\",\"font-size\":\"25px\",\"text-align\":\"center\",\"margin-top\":\"20px\",\"height\":\"50px\"}},[_vm._v(\"\\n              成员列表\\n            \")]),_vm._v(\" \"),_c('div',{staticStyle:{\"display\":\"flex\",\"justify-content\":\"center\",\"margin-bottom\":\"10px\"}},[_c('a',{staticStyle:{\"font-family\":\"Georgia\",\"font-size\":\"20px\",\"color\":\"#2E9AFE\"}},[_vm._v(_vm._s(this.members))]),_vm._v(\" \"),_c('a',{staticStyle:{\"font-family\":\"siyuan\",\"font-size\":\"13px\",\"color\":\"#848484\",\"margin-left\":\"5px\"}},[_vm._v(\"名成员\")])]),_vm._v(\" \"),_c('div',{staticStyle:{\"display\":\"flex\",\"flex-direction\":\"column\"}},[(_vm.modalShow)?_c('div',{staticStyle:{\"display\":\"flex\",\"justify-content\":\"center\"}},[_c('div',{staticStyle:{\"display\":\"flex\",\"flex-direction\":\"column\",\"width\":\"800px\"}},_vm._l((_vm.authors.slice((_vm.currentPage_author - 1) * _vm.pagesize_author, _vm.currentPage_author * _vm.pagesize_author)),function(item1,index1){return _c('div',{key:index1,staticStyle:{\"margin-top\":\"10px\"}},[_c('div',{staticStyle:{\"display\":\"flex\",\"justify-content\":\"space-around\"}},_vm._l((item1),function(item2,index2){return _c('el-tooltip',{key:index2,attrs:{\"placement\":\"top\",\"effect\":\"light\"}},[_c('div',{attrs:{\"slot\":\"content\"},slot:\"content\"},[_vm._v(\"姓名：\"+_vm._s(item2.name)),_c('br'),_vm._v(\"被引次数：\"+_vm._s(item2.cite)),_c('br'),_vm._v(\"发表文章数：\"+_vm._s(item2.pubs))]),_vm._v(\" \"),_c('div',{staticStyle:{\"display\":\"flex\",\"flex-direction\":\"column\",\"cursor\":\"pointer\"},on:{\"click\":function($event){return _vm.jump2authors(item2.id)}}},[_c('div',{staticStyle:{\"display\":\"flex\",\"justify-content\":\"center\"}},[_c('el-avatar',{staticStyle:{\"margin-left\":\"10px\",\"margin-top\":\"10px\",\"background-color\":\"#81DAF5\"},attrs:{\"src\":_vm.pic[_vm.currentPage_author][index1*_vm.row_size+index2]}})],1),_vm._v(\" \"),_c('div',{staticStyle:{\"display\":\"flex\",\"justify-content\":\"center\",\"flex-wrap\":\"wrap\",\"width\":\"100px\"}},[_c('div',{staticStyle:{\"font-family\":\"Gabriola\",\"font-size\":\"16px\"}},[_vm._v(\"\\n                              \"+_vm._s(_vm.shortName(item2.name))+\"\\n                            \")])])])])}),1)])}),0)]):_vm._e(),_vm._v(\" \"),_c('div',{staticStyle:{\"display\":\"flex\",\"flex-direction\":\"row\",\"justify-content\":\"center\"}},[_c('el-pagination',{staticClass:\"greyPage\",staticStyle:{\"margin-top\":\"30px\"},attrs:{\"small\":\"\",\"layout\":\"prev, pager, next\",\"total\":_vm.authors.length,\"current-page\":_vm.currentPage_author,\"page-size\":_vm.pagesize_author},on:{\"current-change\":_vm.handleCurrentChange_author}})],1)])])]),_vm._v(\" \"),_c('div',{staticClass:\"papers\"},[_c('div',[_c('div',{staticStyle:{\"font-family\":\"siyuan\",\"font-weight\":\"bold\",\"font-size\":\"25px\",\"text-align\":\"center\",\"margin-bottom\":\"10px\",\"margin-top\":\"20px\"}},[_vm._v(\"\\n              论文概览\\n            \")])]),_vm._v(\" \"),_c('div',{staticClass:\"paperFather\"},[_vm._l((_vm.papers.slice((_vm.currentPage - 1) * _vm.pagesize, _vm.currentPage * _vm.pagesize)),function(item,index){return _c('div',{key:index,staticStyle:{\"font-family\":\"Georgia\",\"margin-top\":\"25px\"}},[_c('div',{staticStyle:{\"background-color\":\"#FFF\",\"box-shadow\":\"1px 2px 8px 1px rgba(0, 0, 0, .12), 0 0 12px rgba(0, 0, 0, .04)\",\"padding\":\"15px\"},on:{\"click\":function($event){return _vm.jump2papers(item.id)}}},[_c('el-row',[_c('el-col',{attrs:{\"span\":1}},[_c('div',{staticClass:\"xuhao\"},[_vm._v(_vm._s(index+1))])]),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":18}},[_c('el-row',{staticClass:\"paper_title\",staticStyle:{\"margin-top\":\"5px\"}},[_vm._v(\"\\n                    \"+_vm._s(item.title)+\"\\n                  \")])],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":4}},[_c('div',{staticClass:\"cites\"},[_vm._v(\"被引次数：\"+_vm._s(item.cites))])])],1)],1)])}),_vm._v(\" \"),_c('el-pagination',{staticStyle:{\"margin-top\":\"30px\",\"margin-bottom\":\"20px\"},attrs:{\"background\":\"\",\"layout\":\"prev, pager, next\",\"total\":_vm.papers.length,\"current-page\":_vm.currentPage,\"page-size\":_vm.pagesize,\"align\":\"center\"},on:{\"current-change\":_vm.handleCurrentChange}})],2)])])])],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-1ad2d14a\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/Institution.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true,\\\"minimize\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-1ad2d14a\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Institution.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Institution.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Institution.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-1ad2d14a\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Institution.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-1ad2d14a\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/Institution.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}