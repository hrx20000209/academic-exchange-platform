{"version":3,"sources":["webpack:///./src/api/mysql.js","webpack:///src/views/Institution.vue","webpack:///./src/views/Institution.vue?5b55","webpack:///./src/views/Institution.vue"],"names":["_ref2","_ref","api","getRealPic","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_asyncToGenerator___default","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator___default","a","mark","_callee","id","url","res","wrap","_context","prev","next","axios","responseType","sent","abrupt","stop","_this","_x","apply","this","arguments","getUsrId","_callee2","_context2","_x2","echarts","__webpack_require__","Institution","name","components","Nav_with_searchBox","nav_with_searchBox","data","redraw","maxSize","maxNameLen","pic","row_size","InstitutionName","members","RG_score","citeTime","AuthorPapers","AuthorCitation","paperCitation","papers","authors","currentPage","pagesize","currentPage_author","pagesize_author","years","y_cites","y_pub","modalShow","mounted","$route","query","console","log","test","methods","buildPie1","that","pie1","init","document","getElementById","pie2","pie3","pie4","color1","randomColor","color2","option1","backgroundColor","tooltip","trigger","formatter","legend","xAxis","yAxis","axisLine","lineStyle","color","width","series","type","itemStyle","option2","title","text","x","radius","label","alignTo","textStyle","labelLine","minShowLabelAngle","addColor","option3","option4","setOption","on","params","jump2authors","jump2papers","luanxu","arr","len","length","i","index","Math","floor","random","tem","list","handleCurrentChange","val","handleCurrentChange_author","pageAuthor","slice","hasOwnProperty","row","j","author","mysql","then","imgUrl","btoa","Uint8Array","reduce","byte","String","fromCharCode","push","rerender","_this2","elastic_search","getInstitutionMsg","info","hits","_source","fillCites","fillPaperCites","fillAuthorCites","fillAuthorPubs","fillAuthors","fillPapers","fillAttribute","$router","path","router","getPic","n_citation","n_pubs","pubs","item","tmp","sort","b","items","shortName","max","min","cites","year_citation","parseInt","_i","year_pubs","_items","_i2","$data","year","views_Institution","render","_vm","_h","$createElement","_c","_self","staticStyle","display","justify-content","flex-direction","_v","staticClass","_s","margin-top","margin-left","attrs","span","offset","font-family","font-weight","font-size","text-align","margin-bottom","height","_l","item1","index1","key","item2","index2","placement","effect","slot","cite","cursor","click","$event","background-color","src","flex-wrap","_e","small","layout","total","current-page","page-size","current-change","box-shadow","padding","background","align","staticRenderFns","Component","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/12.2ee454e9bfae3471374b.js","sourcesContent":["import axios from \"axios\"\n\nconst api = {\n  getRealPic: async (id) =>{\n    let url = 'http://139.9.132.83:8000/user/getImage?author_id=' + id\n    const res = await axios({\n      url: url,\n      responseType: 'arraybuffer',\n    })\n    return res\n  },\n  getUsrId: async (id) =>{\n    let url = 'http://139.9.132.83:8000/user/get_user_id?author_id=' + id\n    const res = await axios({\n      url: url,\n    })\n    return res\n  },\n}\n\nexport default api\n\n\n\n// WEBPACK FOOTER //\n// ./src/api/mysql.js","<template>\n  <div>\n    <el-container style=\"display: flex; justify-content: center; flex-direction: column\">\n      <div>\n        <Nav_with_searchBox></Nav_with_searchBox>\n      </div>\n      <el-main>\n        <el-col>\n          <el-row class=\"IName\">\n            <el-col>\n              <el-row class=\"Iname_font\">\n                {{this.InstitutionName}}\n              </el-row>\n              <el-row style=\"margin-top: 23px; margin-left: 25px;\">\n                <el-row>\n                  <el-col :span=\"6\">\n                   <i class=\"el-icon-user\" style=\"color: #6E6E6E\">成员总数： <a style=\"color: #00BFFF\"> {{this.members}}</a> 人</i>\n                  </el-col>\n                  <el-col :span=\"6\">\n                   <i class=\"el-icon-collection-tag\" style=\"color: #6E6E6E\">论文引用总次数： <a style=\"color: #00BFFF\"> {{this.citeTime}}</a> 次</i>\n                  </el-col>\n                  <el-col :span=\"10\" :offset=\"1\">\n                    <i class=\"el-icon-star-on\" style=\"color: #6E6E6E\"> 总发布论文数: <a style=\"color: #00BFFF\">{{this.RG_score}}</a> 篇</i>\n                  </el-col>\n                </el-row>\n              </el-row>\n            </el-col>\n          </el-row>\n          <el-row class=\"statistics\">\n            <el-row>\n              <div style=\"\n              font-family: siyuan;\n              font-weight: bold;\n              font-size: 25px;\n              text-align: center;\n              margin-bottom: 40px;\n              margin-top: 20px;\n              \">\n                数据统计\n              </div>\n            </el-row>\n            <el-row>\n              <el-col :span=\"10\" :offset=\"2\">\n                <div id=\"chart1\"></div>\n              </el-col>\n              <el-col :span=\"10\" :offset=\"1\">\n                <div id=\"chart2\"></div>\n              </el-col>\n            </el-row>\n            <el-row style=\"margin-top: 25px; margin-bottom: 40px\">\n              <el-col :span=\"10\" :offset=\"2\">\n                <div id=\"chart3\"></div>\n              </el-col>\n              <el-col :span=\"10\" :offset=\"1\">\n                <div id=\"chart4\"></div>\n              </el-col>\n            </el-row>\n          </el-row>\n          <el-row class=\"authors\">\n            <div style=\"display: flex; flex-direction: column\">\n              <div style=\"\n              font-family: siyuan;\n              font-weight: bold;\n              font-size: 25px;\n              text-align: center;\n              margin-top: 20px;\n              height: 50px;\n              \">\n                成员列表\n              </div>\n              <div style=\"display: flex; justify-content: center;margin-bottom: 10px\">\n                <a style=\"font-family: Georgia; font-size: 20px; color:#2E9AFE\">{{this.members}}</a> <a style=\"font-family: siyuan; font-size: 13px; color:#848484;margin-left: 5px;\">名成员</a>\n              </div>\n              <div style=\"display: flex; flex-direction: column\">\n                <div v-if=\"modalShow\" style=\"display: flex; justify-content: center\">\n                  <div style=\"display: flex; flex-direction: column; width: 800px;\">\n                    <div v-for=\"(item1, index1) in authors.slice((currentPage_author - 1) * pagesize_author, currentPage_author * pagesize_author)\" :key=\"index1\" style=\"margin-top: 10px\">\n                      <div style=\"display: flex; justify-content: space-around\">\n                        <el-tooltip  v-for=\"(item2, index2) in item1\" :key=\"index2\" placement=\"top\" effect=\"light\">\n                          <div slot=\"content\">姓名：{{item2.name}}<br/>被引次数：{{item2.cite}}<br/>发表文章数：{{item2.pubs}}</div>\n                          <div style=\"display: flex; flex-direction: column;cursor: pointer\" @click=\"jump2authors(item2.id)\">\n                            <div style=\"display: flex; justify-content: center\">\n                              <el-avatar :src=\"pic[currentPage_author][index1*row_size+index2]\" style=\"margin-left: 10px;margin-top: 10px; background-color: #81DAF5\"/>\n                            </div>\n                            <div style=\"display: flex; justify-content: center; flex-wrap:wrap;width: 100px\">\n                              <div style=\"font-family: Gabriola; font-size: 16px;\">\n                                {{shortName(item2.name)}}\n                              </div>\n                            </div>\n                          </div>\n                        </el-tooltip>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n                <div style=\"display: flex; flex-direction: row; justify-content: center\">\n                  <el-pagination\n                  small\n                  layout=\"prev, pager, next\"\n                  :total=\"authors.length\"\n                  @current-change=\"handleCurrentChange_author\"\n                  :current-page=\"currentPage_author\"\n                  :page-size=\"pagesize_author\"\n                  style=\"margin-top: 30px\"\n                  class=\"greyPage\"\n                />\n                </div>\n              </div>\n            </div>\n          </el-row>\n          <el-row class=\"papers\">\n            <el-row>\n              <div style=\"\n              font-family: siyuan;\n              font-weight: bold;\n              font-size: 25px;\n              text-align: center;\n              margin-bottom: 10px;\n              margin-top: 20px;\n              \">\n                论文概览\n              </div>\n            </el-row>\n            <el-row class=\"paperFather\">\n              <div v-for=\"(item, index) in papers.slice((currentPage - 1) * pagesize, currentPage * pagesize)\"\n                   :key=\"index\"\n                    style=\"font-family: Georgia;margin-top: 25px; margin-left: 20px;\"\n              >\n                <div style=\"background-color: #FFF;\n                            box-shadow: 1px 2px 8px 1px rgba(0, 0, 0, .12), 0 0 12px rgba(0, 0, 0, .04);\n                            padding: 15px;\n                  \"\n                @click=\"jump2papers(item.id)\"\n                >\n                  <el-row>\n                  <el-col :span=\"1\">\n                    <div class=\"xuhao\">{{index+1}}</div>\n                  </el-col>\n                  <el-col :span=\"18\">\n                    <el-row style=\"margin-top: 5px\" class=\"paper_title\" >\n                      {{item.title}}\n                    </el-row>\n                    <!--<el-row class=\"paper_author\">\n                      {{item.author}}\n                    </el-row>\n                    <el-row class=\"paper_publication\">\n                      {{item.publication}}\n                    </el-row>-->\n                  </el-col>\n                  <el-col :span=\"4\">\n                    <div class=\"cites\">被引次数：{{item.cites}}</div>\n                  </el-col>\n                  </el-row>\n                </div>\n              </div>\n              <el-pagination\n                background\n                layout=\"prev, pager, next\"\n                :total=\"papers.length\"\n                @current-change=\"handleCurrentChange\"\n                :current-page=\"currentPage\"\n                :page-size=\"pagesize\"\n                align=\"center\"\n                style=\"margin-top: 30px; margin-bottom: 20px\"\n              />\n            </el-row>\n          </el-row>\n        </el-col>\n      </el-main>\n    </el-container>\n    <el-button @click=\"rerender\">test</el-button>\n  </div>\n</template>\n\n<script>\n  import Api from \"../api/mysql\";\n\n  const echarts = require('echarts/lib/echarts')\n  import Nav_with_searchBox from \"../components/nav_with_searchBox\";\n  import ESApi from '../api/elastic search'\n    export default {\n        name: \"Institution\",\n      components: {Nav_with_searchBox},\n      data(){\n          return {\n            redraw:1,\n            maxSize: 100,\n            maxNameLen:10,\n            pic: {},\n            row_size: 6,\n            InstitutionName:'',\n            members:0,\n            RG_score:0,\n            citeTime:0,\n            AuthorPapers:[],\n            AuthorCitation:[],\n            paperCitation:[],\n            papers:[],\n            authors:[],\n            currentPage: 1,\n            pagesize: 7,\n            currentPage_author: 1,\n            pagesize_author: 3,\n            years:[],\n            y_cites:[],\n            y_pub:[],\n            modalShow:true,\n          }\n        },\n        mounted() {\n          let id = this.$route.query.id\n          console.log('id is', id)\n          this.test(id)\n          // this.handleCurrentChange_author(1)\n          // console.log('mounted:',this.years)\n          // this.buildPie1()\n        },\n        methods:{\n          buildPie1(that){\n            let pie1 = echarts.init(document.getElementById('chart1'))\n            let pie2 = echarts.init(document.getElementById('chart2'))\n            let pie3 = echarts.init(document.getElementById('chart3'))\n            let pie4 = echarts.init(document.getElementById('chart4'))\n            const color1 = this.randomColor()\n            const color2 = this.randomColor()\n            // console.log(this.y_cites)\n            // console.log(this.y_pub)\n            let option1={\n              backgroundColor: '#FFF',\n              tooltip: {\n                trigger: 'item',\n                formatter: \"{a} <br/>{b}年   {c}篇\"\n              },\n              legend:{\n                data:[\n                  {\n                    name:'Citation'\n                  },\n                  {\n                    name:'Publication'\n                  }\n                ]\n              },\n              xAxis:{\n                data:this.years,\n                //axisLabel: {\n\t\t\t\t\t\t    //    interval:3\n\t\t\t\t\t      //},\n              },\n              yAxis: [\n                {\n                  name: 'Citation',\n                  axisLine:{\n                    lineStyle:{\n                    color:color1,\n                    width:1,\n                    }\n                  }\n                },\n                {\n                  name: 'Publication',\n                  axisLine:{\n                    lineStyle: {\n                      color: color2\n                    }\n                  }\n                  // ...\n                }\n              ],\n              series: [\n                  {\n                    name:'Citation',\n                    type: 'bar',\n                    data: this.y_cites,\n                    itemStyle:{\n                      color:color1,\n                    }\n                  },\n                  {\n                    name:'Publication',\n                    type: 'bar',\n                    data: this.y_pub,\n                    itemStyle:{\n                      color:color2,\n                    }\n                  }\n                ]\n            }\n            // const pieColors1 = this.getColorList(this.AuthorPapers)\n            let option2={\n              // backgroundColor: '#FFF',\n              title: {\n                text: '成员发表论文量',\n                x: 'center'\n              },\n              tooltip: {\n                trigger: 'item',\n                formatter: \"{a} <br/>姓名：{b}<br/>文章数量：{c} ({d}%)\"\n              },\n              series: [\n                {\n                  name:'成员发表论文量',\n                  radius: ['55%', '70'],\n                  label: {\n                    alignTo: 'labelLine',\n                    textStyle:{\n                      color: ''\n                    }\n                  },\n                  labelLine:{\n                      // length: 1,\n                      // length2: 1,\n                  },\n                  minShowLabelAngle:4,\n                  type: 'pie',\n                  data: this.addColor(this.AuthorPapers),\n                }\n              ]\n            }\n            // let pieColors2 = this.getColorList(this.AuthorCitation)\n            let option3={\n              title: {\n                text: '成员被引用次数',\n                x: 'center'\n              },\n              tooltip: {\n                trigger: 'item',\n                formatter: \"{a} <br/>姓名：{b}<br/>被引用量：{c} ({d}%)\"\n              },\n              series:[\n                {\n                  name:'成员被引次数',\n                  radius: ['55%', '70'],\n                  label: {\n                    alignTo: 'labelLine',\n                    textStyle:{\n                      color: ''\n                    }\n                  },\n                  labelLine:{\n                      // length: 1,\n                      // length2: 1,\n                  },\n                  minShowLabelAngle:4,\n                  type: 'pie',\n                  data: this.addColor(this.AuthorCitation),\n                }\n              ]\n            }\n            let option4={\n              // backgroundColor: '#FFF',\n              title: {\n                text: '论文被引用量',\n                x: 'center'\n              },\n              tooltip: {\n                trigger: 'item',\n                formatter: \"{a} <br/>题目：{b}<br/>引用量：{c} ({d}%)\"\n              },\n              series: [\n                {\n                  name:'论文被引用量',\n                  radius: ['55%', '70'],\n                  label: {\n                    alignTo: 'labelLine',\n                    textStyle:{\n                      color: ''\n                    }\n                  },\n                  labelLine:{\n                      // length: 1,\n                      // length2: 1,\n                  },\n                  minShowLabelAngle:4,\n                  type: 'pie',\n                  data: this.addColor(this.paperCitation),\n                }\n\n              ]\n            }\n            pie1.setOption(option1)\n            pie2.setOption(option2)\n            pie3.setOption(option3)\n            pie4.setOption(option4)\n            pie2.on('click', function(params) {\n              console.log(params.data.id, params.data.name)\n              that.jump2authors(params.data.id)\n            })\n            pie3.on('click', function(params) {\n              console.log(params.data.id, params.data.name)\n              that.jump2authors(params.data.id)\n            })\n            pie4.on('click', function(params) {\n              that.jump2papers(params.data.id)\n            })\n          },\n          luanxu(arr) {\n            const len = arr.length;\n            for(let i=0;i<len;i++) {\n                let index = Math.floor(Math.random()*(len-i));\n                let tem = arr[index];\n                arr[index] = arr[len-i-1];\n                arr[len-i-1] = tem;\n            }\n            return arr\n          },\n          addColor(list) {\n          // console.log(list)\n          let res = list\n          for (let i = 0; i < list.length; i++) {\n            let item = list[i]\n            // console.log(item)\n            item['itemStyle']={color:this.randomColor()}\n          }\n          return res;\n        },\n          randomColor() {\n          let r = Math.floor(Math.random() * 256);\n          let g = Math.floor(Math.random() * 256);\n          let b = Math.floor(Math.random() * 256);\n          let color = `rgb(${r},${g},${b})`\n          // let color= '#' + r.toString(16) + g.toString(16) + b.toString(16);\n          return color;\n        },\n          handleCurrentChange(val) {\n            this.currentPage = val;\n          },\n          handleCurrentChange_author(val) {\n            this.currentPage_author = val;\n            const pageAuthor = this.authors.slice((this.currentPage_author - 1) * this.pagesize_author, this.currentPage_author * this.pagesize_author)\n            console.log('pageAuthor is', pageAuthor)\n            if (!this.pic.hasOwnProperty(this.currentPage_author))\n              this.pic[this.currentPage_author] = []\n            for (let i = 0; i<pageAuthor.length; i++) {\n              const row = pageAuthor[i]\n              for (let j = 0; j< row.length; j++) {\n                const author = row[j]\n                Api.getRealPic(author.id).then(\n                  res => {\n                    const imgUrl='data:image/png;base64,' + btoa(new Uint8Array(res.data).reduce((data, byte) => data + String.fromCharCode(byte), ''))\n                    this.pic[this.currentPage_author].push(imgUrl)\n                    this.rerender()\n                    // this.pic.push(imgUrl)\n                  }\n                )\n              }\n            }\n            // this.redraw = this.currentPage_author\n            // console.log('picarr', this.pic)\n          },\n          rerender: function(){\n              this.modalShow = false;\n              this.modalShow = true;\n          },\n          test(id) {\n            let that=this\n            ESApi.getInstitutionMsg(id).then(\n              res=>{\n                // console.log('test id is', id)\n                let info = res.data.hits.hits[0]._source\n                console.log('info is ', info)\n                this.fillCites(info)\n                this.fillPaperCites(info)\n                this.fillAuthorCites(info)\n                this.fillAuthorPubs(info)\n                this.fillAuthors(info)\n                this.fillPapers(info)\n                this.fillAttribute(info)\n                this.buildPie1(that)\n                this.handleCurrentChange_author(1)\n              }\n            )\n          },\n          jump2authors(id){\n            // console.log('author id is', id)\n            this.$router.push({\n              path: '/authorPage',\n              query: {\n                id: id\n              }\n            })\n          },\n          jump2papers(id) {\n            let router = '/article/'+ id + '/overviews'\n            this.$router.push(router)\n          },\n          getPic(name, id) {\n            //TODO: input id output pic or bool\n            console.log('pic is',this.pic[id])\n            return this.pic[id]\n          },\n          fillAttribute(info){\n            this.members = info.authors.length\n            this.citeTime = info.n_citation\n            this.RG_score = info.n_pubs\n            this.InstitutionName = info.name\n          },\n          fillPapers(info){\n            for (let i=0; i<info.pubs.length; i++) {\n              let item = info.pubs[i]\n              let tmp = {}\n              tmp['id'] =  item.id\n              tmp['title'] = item.title\n              tmp['cites'] = item.n_citation\n              this.papers.push(tmp)\n            }\n          },\n          fillAuthors(info){\n            let row = []\n            let j = 0\n            for (let i=0; i<info.authors.length; i++){\n              let item = info.authors[i]\n              let tmp = {}\n              tmp['name'] = item.name\n              // tmp['pic'] = this.getPic(item.name, item.id)\n              tmp['id'] = item.id\n              tmp['pubs'] = item.n_pubs\n              tmp['cite'] = item.n_citation\n              /*Api.getRealPic(item.id).then(\n                res => {\n                  const imgUrl='data:image/png;base64,' + btoa(new Uint8Array(res.data).reduce((data, byte) => data + String.fromCharCode(byte), ''))\n                  this.pic.push(imgUrl)\n                }\n              )*/\n              row.push(tmp)\n              j++\n              if (j === this.row_size){\n                this.authors.push(row)\n                row = []\n                j = 0\n              }\n            }\n            if (j !== 0) {\n              this.authors.push(row)\n            }\n          },\n          fillAuthorCites(info){\n            info.authors.sort(function(a,b){return b.n_citation-a.n_citation})\n            let arr = info.authors.length>=this.maxSize?info.authors.slice(0, this.maxSize):info.authors\n            arr = this.luanxu(arr)\n            for (let i=0; i<arr.length; i++) {\n              let items = arr[i]\n              let tmp = {}\n              tmp['name'] = items.name\n              tmp['value'] = items.n_citation\n              tmp['id'] = items.id\n              this.AuthorCitation.push(tmp)\n            }\n          },\n          fillAuthorPubs(info){\n            info.authors.sort(function(a,b){return b.n_pubs-a.n_pubs})\n            let arr = info.authors.length>=this.maxSize?info.authors.slice(0, this.maxSize):info.authors\n            arr = this.luanxu(arr)\n            for (let i=0; i<arr.length; i++) {\n              let items = arr[i]\n              let tmp = {}\n              tmp['name'] = items.name\n              tmp['value'] = items.n_pubs\n              tmp['id'] = items.id\n              this.AuthorPapers.push(tmp)\n            }\n          },\n          shortName(name) {\n            let res\n            if (name.length>this.maxNameLen)\n              res = name.slice(0, this.maxNameLen) + '...'\n            else\n              res = name\n            return res\n          },\n          fillPaperCites(info){\n            // console.log('pubs', info.pubs)\n            info.pubs.sort(function(a,b){return b.n_citation-a.n_citation})\n            let arr = info.pubs.length>=this.maxSize?info.pubs.slice(0, this.maxSize):info.pubs\n            arr = this.luanxu(arr)\n            for (let i=0; i<arr.length; i++) {\n              let items = arr[i]\n              let tmp = {}\n              tmp['name'] = items.title\n              tmp['value'] = items.n_citation\n              tmp['id'] = items.id\n              this.paperCitation.push(tmp)\n            }\n          },\n          fillCites(info){\n            let max=0;\n            let min=9999;\n            let tmp;\n            let cites = {}\n            let pubs = {}\n            // console.log('cites info', info.year_citation)\n            for (let i = 0; i < info.year_citation.length; i++) {\n              let items = info.year_citation[i]\n              tmp = parseInt(items['year'])\n              cites[items['year']]=items['cnt']\n              if (tmp>max)\n                max=tmp\n              if (tmp<min)\n                min=tmp\n            }\n            for (let i = 0; i < info.year_pubs.length; i++) {\n              let items = info.year_pubs[i]\n              tmp = parseInt(items['year'])\n              pubs[items['year']]=items['cnt']\n              if (tmp>max)\n                max=tmp\n              if (tmp<min)\n                min=tmp\n            }\n            //console.log(max, min)\n            for(let i=min, j=0; i<=max; i++, j++) {\n              this.$data.years.push(i)\n              let year = ''+i\n              if (cites.hasOwnProperty(year))\n                this.y_cites[j] = cites[year]\n              else\n                this.y_cites[j] = 0\n\n              if (pubs.hasOwnProperty(year))\n                this.y_pub[j] = pubs[year]\n              else\n                this.y_pub[j] = 0\n            }\n            // console.log(JSON.parse(JSON.stringify(this.years)))\n            // console.log(this.y_cites)\n            // console.log(this.y_pub)\n\n          },\n      }\n    }\n</script>\n\n<style scoped>\n.IName {\n  background-color: #FAFAFA;\n  min-height: 120px;\n  max-width: 1050px;\n  margin-top: 15px;\n  margin-left: 20px;\n  border-radius: 25px;\n  box-shadow: 1px 2px 8px 1px rgba(0, 0, 0, .12), 0 0 12px rgba(0, 0, 0, .04)\n}\n.Iname_font {\n  background-image:  linear-gradient(#e66465,#9198e5,#A9F5BC);\n  -webkit-background-clip: text;\n  -webkit-text-fill-color: transparent;\n  font-size: 30px;\n  margin-top: 25px;\n  margin-left: 25px;\n}\n.statistics {\n  background-color: #FAFAFA;\n  min-height: 600px;\n  margin-top: 30px;\n  max-width: 1050px;\n  margin-left: 20px;\n  box-shadow: 1px 2px 8px 1px rgba(0, 0, 0, .12), 0 0 12px rgba(0, 0, 0, .04)\n\n}\n#chart1 {\n  background-color: white;\n  border:5px white;\n  border-radius: 30px;\n  padding: 15px;\n  width: 350px;\n  height: 350px;\n  box-shadow: 1px 2px 8px 1px rgba(0, 0, 0, .12), 0 0 12px rgba(0, 0, 0, .04);\n}\n#chart2 {\n  background-color: white;\n  border:5px white;\n  border-radius: 30px;\n  padding: 15px;\n  width: 350px;\n  height: 350px;\n  box-shadow: 1px 2px 8px 1px rgba(0, 0, 0, .12), 0 0 12px rgba(0, 0, 0, .04);\n}\n#chart3 {\n  background-color: white;\n  border:5px white;\n  border-radius: 30px;\n  padding: 15px;\n  width: 350px;\n  height: 350px;\n  box-shadow: 1px 2px 8px 1px rgba(0, 0, 0, .12), 0 0 12px rgba(0, 0, 0, .04);\n}\n#chart4 {\n  background-color: white;\n  border:5px white;\n  border-radius: 30px;\n  padding: 15px;\n  width: 350px;\n  height: 350px;\n  box-shadow: 1px 2px 8px 1px rgba(0, 0, 0, .12), 0 0 12px rgba(0, 0, 0, .04);\n}\n.papers {\n  background-color: #FAFAFA;\n  height: auto;\n  max-width: 1050px;\n  margin-left: 20px;\n  box-shadow: 1px 2px 8px 1px rgba(0, 0, 0, .12), 0 0 12px rgba(0, 0, 0, .04);\n  margin-top:35px;\n\n}\n.paperFather{\n  width: 900px;\n  margin-left: 80px;\n  margin-bottom: 40px;\n}\n.paper_content {\n  background-color: #FFFFFF;\n  box-shadow: 1px 2px 8px 1px rgba(0, 0, 0, .12), 0 0 12px rgba(0, 0, 0, .04);\n  width: 900px;\n  display: flex;\n}\n.paper_title:hover{\n  color: \t#d7df07;\n  cursor: pointer;\n}\n.paper_author{\n  color: #A4A4A4;\n  font-size: 13px;\n}\n.paper_author:hover{\n  color: #01DF74;\n  cursor: pointer;\n}\n.paper_publication {\n  color: #A4A4A4;\n  font-size: 13px;\n}\n.paper_publication:hover{\n  color: #01A9DB;\n  cursor:pointer;\n}\n.authors {\n  background-color: #FAFAFA;\n  height: auto;\n  max-width: 1050px;\n  margin-left: 20px;\n  box-shadow: 1px 2px 8px 1px rgba(0, 0, 0, .12), 0 0 12px rgba(0, 0, 0, .04);\n  margin-top:35px;\n}\n.greyPage {\n  margin-bottom: 20px;\n}\n.greyPage /deep/ button.btn-prev {\n  background-color: #FAFAFA;\n}\n.greyPage /deep/ button.btn-next {\n  background-color: #FAFAFA;\n}\n.greyPage /deep/ li.number {\n  background-color: #FAFAFA;\n}\n.xuhao {\n  background-color: cornflowerblue;\n  text-align: center;\n  border-radius: 30px;\n  font-family: Gadugi;\n  font-size: 13px;\n  width: 25px;\n  margin-top: 5px;\n  color: #FFF;\n}\n.cites{\n  background-color: #BDBDBD;\n  text-align: center;\n  border-radius: 30px;\n  font-family: Gadugi;\n  font-size: 13px;\n  margin-top: 10px;\n  margin-left: 40px;\n  width: 120px;\n  color: #FFF;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/views/Institution.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-container',{staticStyle:{\"display\":\"flex\",\"justify-content\":\"center\",\"flex-direction\":\"column\"}},[_c('div',[_c('Nav_with_searchBox')],1),_vm._v(\" \"),_c('el-main',[_c('el-col',[_c('el-row',{staticClass:\"IName\"},[_c('el-col',[_c('el-row',{staticClass:\"Iname_font\"},[_vm._v(\"\\n              \"+_vm._s(this.InstitutionName)+\"\\n            \")]),_vm._v(\" \"),_c('el-row',{staticStyle:{\"margin-top\":\"23px\",\"margin-left\":\"25px\"}},[_c('el-row',[_c('el-col',{attrs:{\"span\":6}},[_c('i',{staticClass:\"el-icon-user\",staticStyle:{\"color\":\"#6E6E6E\"}},[_vm._v(\"成员总数： \"),_c('a',{staticStyle:{\"color\":\"#00BFFF\"}},[_vm._v(\" \"+_vm._s(this.members))]),_vm._v(\" 人\")])]),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":6}},[_c('i',{staticClass:\"el-icon-collection-tag\",staticStyle:{\"color\":\"#6E6E6E\"}},[_vm._v(\"论文引用总次数： \"),_c('a',{staticStyle:{\"color\":\"#00BFFF\"}},[_vm._v(\" \"+_vm._s(this.citeTime))]),_vm._v(\" 次\")])]),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":10,\"offset\":1}},[_c('i',{staticClass:\"el-icon-star-on\",staticStyle:{\"color\":\"#6E6E6E\"}},[_vm._v(\" 总发布论文数: \"),_c('a',{staticStyle:{\"color\":\"#00BFFF\"}},[_vm._v(_vm._s(this.RG_score))]),_vm._v(\" 篇\")])])],1)],1)],1)],1),_vm._v(\" \"),_c('el-row',{staticClass:\"statistics\"},[_c('el-row',[_c('div',{staticStyle:{\"font-family\":\"siyuan\",\"font-weight\":\"bold\",\"font-size\":\"25px\",\"text-align\":\"center\",\"margin-bottom\":\"40px\",\"margin-top\":\"20px\"}},[_vm._v(\"\\n              数据统计\\n            \")])]),_vm._v(\" \"),_c('el-row',[_c('el-col',{attrs:{\"span\":10,\"offset\":2}},[_c('div',{attrs:{\"id\":\"chart1\"}})]),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":10,\"offset\":1}},[_c('div',{attrs:{\"id\":\"chart2\"}})])],1),_vm._v(\" \"),_c('el-row',{staticStyle:{\"margin-top\":\"25px\",\"margin-bottom\":\"40px\"}},[_c('el-col',{attrs:{\"span\":10,\"offset\":2}},[_c('div',{attrs:{\"id\":\"chart3\"}})]),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":10,\"offset\":1}},[_c('div',{attrs:{\"id\":\"chart4\"}})])],1)],1),_vm._v(\" \"),_c('el-row',{staticClass:\"authors\"},[_c('div',{staticStyle:{\"display\":\"flex\",\"flex-direction\":\"column\"}},[_c('div',{staticStyle:{\"font-family\":\"siyuan\",\"font-weight\":\"bold\",\"font-size\":\"25px\",\"text-align\":\"center\",\"margin-top\":\"20px\",\"height\":\"50px\"}},[_vm._v(\"\\n              成员列表\\n            \")]),_vm._v(\" \"),_c('div',{staticStyle:{\"display\":\"flex\",\"justify-content\":\"center\",\"margin-bottom\":\"10px\"}},[_c('a',{staticStyle:{\"font-family\":\"Georgia\",\"font-size\":\"20px\",\"color\":\"#2E9AFE\"}},[_vm._v(_vm._s(this.members))]),_vm._v(\" \"),_c('a',{staticStyle:{\"font-family\":\"siyuan\",\"font-size\":\"13px\",\"color\":\"#848484\",\"margin-left\":\"5px\"}},[_vm._v(\"名成员\")])]),_vm._v(\" \"),_c('div',{staticStyle:{\"display\":\"flex\",\"flex-direction\":\"column\"}},[(_vm.modalShow)?_c('div',{staticStyle:{\"display\":\"flex\",\"justify-content\":\"center\"}},[_c('div',{staticStyle:{\"display\":\"flex\",\"flex-direction\":\"column\",\"width\":\"800px\"}},_vm._l((_vm.authors.slice((_vm.currentPage_author - 1) * _vm.pagesize_author, _vm.currentPage_author * _vm.pagesize_author)),function(item1,index1){return _c('div',{key:index1,staticStyle:{\"margin-top\":\"10px\"}},[_c('div',{staticStyle:{\"display\":\"flex\",\"justify-content\":\"space-around\"}},_vm._l((item1),function(item2,index2){return _c('el-tooltip',{key:index2,attrs:{\"placement\":\"top\",\"effect\":\"light\"}},[_c('div',{attrs:{\"slot\":\"content\"},slot:\"content\"},[_vm._v(\"姓名：\"+_vm._s(item2.name)),_c('br'),_vm._v(\"被引次数：\"+_vm._s(item2.cite)),_c('br'),_vm._v(\"发表文章数：\"+_vm._s(item2.pubs))]),_vm._v(\" \"),_c('div',{staticStyle:{\"display\":\"flex\",\"flex-direction\":\"column\",\"cursor\":\"pointer\"},on:{\"click\":function($event){return _vm.jump2authors(item2.id)}}},[_c('div',{staticStyle:{\"display\":\"flex\",\"justify-content\":\"center\"}},[_c('el-avatar',{staticStyle:{\"margin-left\":\"10px\",\"margin-top\":\"10px\",\"background-color\":\"#81DAF5\"},attrs:{\"src\":_vm.pic[_vm.currentPage_author][index1*_vm.row_size+index2]}})],1),_vm._v(\" \"),_c('div',{staticStyle:{\"display\":\"flex\",\"justify-content\":\"center\",\"flex-wrap\":\"wrap\",\"width\":\"100px\"}},[_c('div',{staticStyle:{\"font-family\":\"Gabriola\",\"font-size\":\"16px\"}},[_vm._v(\"\\n                              \"+_vm._s(_vm.shortName(item2.name))+\"\\n                            \")])])])])}),1)])}),0)]):_vm._e(),_vm._v(\" \"),_c('div',{staticStyle:{\"display\":\"flex\",\"flex-direction\":\"row\",\"justify-content\":\"center\"}},[_c('el-pagination',{staticClass:\"greyPage\",staticStyle:{\"margin-top\":\"30px\"},attrs:{\"small\":\"\",\"layout\":\"prev, pager, next\",\"total\":_vm.authors.length,\"current-page\":_vm.currentPage_author,\"page-size\":_vm.pagesize_author},on:{\"current-change\":_vm.handleCurrentChange_author}})],1)])])]),_vm._v(\" \"),_c('el-row',{staticClass:\"papers\"},[_c('el-row',[_c('div',{staticStyle:{\"font-family\":\"siyuan\",\"font-weight\":\"bold\",\"font-size\":\"25px\",\"text-align\":\"center\",\"margin-bottom\":\"10px\",\"margin-top\":\"20px\"}},[_vm._v(\"\\n              论文概览\\n            \")])]),_vm._v(\" \"),_c('el-row',{staticClass:\"paperFather\"},[_vm._l((_vm.papers.slice((_vm.currentPage - 1) * _vm.pagesize, _vm.currentPage * _vm.pagesize)),function(item,index){return _c('div',{key:index,staticStyle:{\"font-family\":\"Georgia\",\"margin-top\":\"25px\",\"margin-left\":\"20px\"}},[_c('div',{staticStyle:{\"background-color\":\"#FFF\",\"box-shadow\":\"1px 2px 8px 1px rgba(0, 0, 0, .12), 0 0 12px rgba(0, 0, 0, .04)\",\"padding\":\"15px\"},on:{\"click\":function($event){return _vm.jump2papers(item.id)}}},[_c('el-row',[_c('el-col',{attrs:{\"span\":1}},[_c('div',{staticClass:\"xuhao\"},[_vm._v(_vm._s(index+1))])]),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":18}},[_c('el-row',{staticClass:\"paper_title\",staticStyle:{\"margin-top\":\"5px\"}},[_vm._v(\"\\n                    \"+_vm._s(item.title)+\"\\n                  \")])],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":4}},[_c('div',{staticClass:\"cites\"},[_vm._v(\"被引次数：\"+_vm._s(item.cites))])])],1)],1)])}),_vm._v(\" \"),_c('el-pagination',{staticStyle:{\"margin-top\":\"30px\",\"margin-bottom\":\"20px\"},attrs:{\"background\":\"\",\"layout\":\"prev, pager, next\",\"total\":_vm.papers.length,\"current-page\":_vm.currentPage,\"page-size\":_vm.pagesize,\"align\":\"center\"},on:{\"current-change\":_vm.handleCurrentChange}})],2)],1)],1)],1)],1),_vm._v(\" \"),_c('el-button',{on:{\"click\":_vm.rerender}},[_vm._v(\"test\")])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-6a14ed74\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/Institution.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true,\\\"minimize\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-6a14ed74\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Institution.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Institution.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Institution.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-6a14ed74\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Institution.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-6a14ed74\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/Institution.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}