{"version":3,"sources":["webpack:///./src/assets/无摘要.png","webpack:///src/views/article/Overviews.vue","webpack:///./src/views/article/Overviews.vue?b06f","webpack:///./src/views/article/Overviews.vue"],"names":["module","exports","echarts","__webpack_require__","Overviews","name","data","id","this","$route","params","paper_id","title","authors","abstract","reference","venue","url","citation_by_year","flag","relatedArticle","references","oneData","children","mounted","console","log","search","buildPie2","methods","_this","elastic_search","getMsg","then","response","length","hits","total","value","$store","state","i","_source","article","commit","year","undefined","flagLoad","urlArticle","k","l","push","j","searchRelated","searchRe","_this2","refer","getRe","da","_this3","getTitle","re","_score","setTimeout","buildPie","getReRe","pie","init","document","getElementById","option","tooltip","trigger","triggerOn","series","type","top","left","bottom","right","symbolSize","label","normal","position","verticalAlign","align","fontSize","leaves","expandAndCollapse","animationDuration","animationDurationUpdate","setOption","pie1","pie2","pieData","Ydata","cnt","color1","randomColor","option1","formatter","legend","xAxis","yAxis","axisLine","lineStyle","color","width","itemStyle","option2","text","x","radius","borderRadius","borderColor","borderWidth","addColor","list","res","Math","floor","random","article_Overviews","render","_vm","_h","$createElement","_c","_self","staticClass","staticStyle","height","_v","overflow","margin-bottom","float","_m","_s","staticRenderFns","text-align","attrs","src","Component","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/7.dd741213721047ebbc7c.js","sourcesContent":["module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAABUCAYAAAAh+XGnAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAHvSURBVHhe7djRbcIwFIXhbAAbIPWpfQKJATICEyBGYISMACOwASOQDTICEwAjuDpuEqlI5VSpyb0155fuQwwP6JPtqC2CepiASAIiCYgkIJKASAIiCYgkINIgoOVy6W7W63W4XC7tL0xXNkCYZyD9CchLz0TKCgg4qZGyArper8mRsgJCqZGyA0IpkbIEQqmQkgK9vX/E6WLPqep+z6MB0pBeBggzpCyOGEtAJAGRBERyA9StW899P63/JgGRdMRIAiLpiJEERNIRIwmIpCNGEhBJR4wkIJKOGElAJB0xkoBISYG6f8oPnWclIJIbIK8JiCQgkjug2+0W6rruxzpXQNvtNkyn01AURT943u/37TfGzw3QbreLIJPJJEJVVRU2m00Phc8tcgGEY4WdApymadrVr06nU49kkQugDmG1WrUr35vNZvFzfG/sXACxsLMAdL+7xsg9UHc3YRdZ5BoIlzVwrHYPcgmES3uxWPQ7xwoHuQTCKx448/k8YlnmEqgsywhk8da6zzWQh1wCeUpAJJdAuHsOh0P7ZJs7oPP5HO8fzPF4bFftcgeE8HrHnxfAss4lkKcERBIQSUAkAZEERBIQSUAkAZEERDID+m8zJAGRBgG9UgIiCYgkIJKASAIiCYgkIJKASAIiCehhIXwC5PmQOhUj0TcAAAAASUVORK5CYII=\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/无摘要.png\n// module id = 78TR\n// module chunks = 7","<template>\r\n  <div class=\"grey\">\r\n    <div style=\"height: 20px\"></div>\r\n    <div style=\"height: 100%;width: 100%;overflow: hidden;margin-bottom: 5px\">\r\n      <div style=\"float: left;margin-bottom: 10px\" class=\"bigFrame\">\r\n        <div class=\"upFrame\">\r\n          <div class=\"upFrameContent\">摘要</div>\r\n        </div>\r\n        <div class=\"downFrame\">\r\n          <div class=\"downFrameContent\">\r\n            <div v-if=\"this.$store.state.abstract === ''\">\r\n              <div class=\"notAbstract\">\r\n                <div style=\"height:30px\"></div>\r\n                <div style=\"text-align:center\">\r\n                  <img src=\"@/assets/无摘要.png\">\r\n                </div>\r\n                <div style=\"text-align:center\">\r\n                  无摘要\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div v-else>\r\n              {{ this.$store.state.abstract }}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div style=\"height: 20px\">\r\n    </div>\r\n    <div class=\"textFrame\">\r\n      <div style=\"height: 20px\"></div>\r\n      <div class=\"stats\">\r\n        <div class=\"statsFrame\">\r\n          <div class=\"upFrame\">\r\n            <div class=\"upFrameContent\">引 用 量</div>\r\n          </div>\r\n          <div class=\"downFrame\">\r\n            <div class=\"statsFrameContent\">\r\n              <!-- 这里放表格 -->\r\n              <div id=\"chart1\"></div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div style=\"width:4%;float:left;height:10px\"></div>\r\n        <div class=\"statsFrame\">\r\n          <div class=\"upFrame\">\r\n            <div class=\"upFrameContent\">相 关 文 献</div>\r\n          </div>\r\n          <div class=\"downFrame\">\r\n            <div class=\"statsFrameContent\">\r\n              <!-- 这里放表格 -->\r\n              <div id=\"chart2\"></div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"tree\" style=\"height: 600px;width: 70%\">\r\n        <div class=\"upFrame\">\r\n          <div class=\"upFrameContent\">引用文献</div>\r\n        </div>\r\n        <div class=\"downFrame\">\r\n          <div class=\"statsFrameContent\">\r\n            <!-- 这里放表格 -->\r\n            <div id=\"chart4\" style=\"height: 500px\"></div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div style=\"height: 20px\"></div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport ESApi from '../../api/elastic search'\r\nimport AC from '../article/Article.vue'\r\n\r\nconst echarts = require('echarts/lib/echarts')\r\nexport default {\r\n  name: \"Overviews\",\r\n  data() {\r\n    return {\r\n      id: this.$route.params.paper_id,\r\n      title: \"\",\r\n      authors: [],\r\n      abstract: \"\",\r\n      reference: [],\r\n      venue: {},\r\n      url: \"\",\r\n      citation_by_year: {},\r\n      flag: 1,\r\n      relatedArticle: [],\r\n      references:[],\r\n      oneData: {\r\n        \"children\": [\r\n          {\r\n            \"children\": [\r\n              {\r\n                \"children\": [\r\n                  {\r\n                    \"children\": [],\r\n                    \"name\": \"低压车间表计82\"\r\n                  }\r\n                ],\r\n                \"name\": \"低压关口表计1\"\r\n              }\r\n            ],\r\n            \"name\": \"高压子表计122\"\r\n          },\r\n          {\r\n            \"children\": [\r\n              {\r\n                \"children\": [],\r\n                \"name\": \"低压关口表计101\"\r\n              }\r\n            ],\r\n            \"name\": \"高压子表计141\"\r\n          }\r\n        ],\r\n        \"name\": \"高压总表计102\"\r\n      }\r\n    }\r\n  },\r\n  mounted() {\r\n    console.log('333')\r\n    this.search(this.id)\r\n    console.log(this.title)\r\n    this.buildPie2()\r\n  },\r\n  methods: {\r\n    search(paper_id) {\r\n      console.log('111')\r\n      ESApi.getMsg(paper_id).then(response => {\r\n        console.log(response.data)\r\n        this.length = response.data.hits.total.value\r\n        console.log(this.length)\r\n        this.$store.state.abstract = ''\r\n        this.$store.state.references = []\r\n        this.reference = []\r\n        for (var i = 0; i < this.length; i++) {\r\n          if (response.data.hits.hits[i]._source.id === paper_id) {\r\n            let article = response.data.hits.hits[i]\r\n            this.title = article._source.title\r\n            console.log(this.title)\r\n            // this.abstracts = article._source.abstract\r\n            this.$store.commit('setTitle', article._source.title)\r\n            console.log(this.$store.state.title)\r\n\r\n            this.year = article._source.year\r\n            if (article._source.url === undefined) {\r\n              this.flagLoad = false\r\n              console.log('aaaa')\r\n            } else {\r\n              this.urlArticle = article._source.url\r\n              console.log(this.urlArticle)\r\n            }\r\n            if (article._source.abstract === undefined) {\r\n              this.flag = 0\r\n              console.log('flag')\r\n            } else {\r\n              this.$store.commit('setAbstract', article._source.abstract)\r\n              console.log(this.$store.state.abstract)\r\n            }\r\n            for (var k = 0; k < article._source.citation_by_year.length; k++) {\r\n              // console.log(article._source.citation_by_year[k])\r\n              this.$store.commit('setCitation', article._source.citation_by_year[k])\r\n              // console.log(this.$store.state.citation_by_year[k])\r\n            }\r\n\r\n            for (var l = 0; l < article._source.reference.length; l++) {\r\n              console.log(article._source.reference[l])\r\n              this.reference.push(article._source.reference[l])\r\n              this.$store.commit('setReferences', article._source.reference[l])\r\n              console.log(this.$store.state.references[l])\r\n            }\r\n            for (var j = 0; j < article._source.authors.length; j++) {\r\n              // this.authors[j] = article._source.authors[j]\r\n              this.authors.push(article._source.authors[j])\r\n            }\r\n            console.log(this.authors)\r\n            this.searchRelated();\r\n            // this.buildPie();\r\n            this.searchRe();\r\n            // this.letRe()\r\n          }\r\n        }\r\n        // }\r\n      })\r\n    },\r\n    searchRe(){\r\n      this.$store.state.refer = []\r\n      console.log('进入')\r\n      for(var j = 0; j < this.reference.length;j++){\r\n        console.log('1.1')\r\n        console.log(this.reference[j])\r\n        ESApi.getRe(this.reference[j]).then(response =>{\r\n          console.log('进入es搜索')\r\n          console.log(response.data.hits.hits[0])\r\n          console.log(response.data.hits.total.value)\r\n          console.log('1.2')\r\n          let article = response.data.hits.hits[0]\r\n          this.references.push(article._source)\r\n          this.$store.commit('setRefer',article._source)\r\n          da.push({children:[]},{name:this.title})\r\n          console.log(this.$store.state.refer)\r\n          console.log(this.$store.state.refer.length)\r\n        })\r\n      }\r\n    },\r\n    searchRelated() {\r\n      console.log('related');\r\n      ESApi.getTitle(this.$store.state.title).then(response => {\r\n        console.log(response.data)\r\n        this.length = response.data.hits.total.value\r\n        // Vue.set(this.relatedArticle, 1, response.data.hits.hits[1].)//给列表对象新增属性\r\n        for (var i = 0; i < this.length - 1; i++) {\r\n          let re = response.data.hits.hits[i + 1]\r\n          this.relatedArticle[i] = re\r\n          console.log(this.relatedArticle[i])\r\n          console.log(this.relatedArticle[i]._source.title)\r\n          console.log(this.relatedArticle[i]._score)\r\n        }\r\n      })\r\n      setTimeout(() => {\r\n        this.buildPie()//娃娃消失\r\n      }, 200);\r\n    },\r\n    getReRe(){\r\n\r\n    },\r\n    buildPie2(){\r\n      let pie = echarts.init(document.getElementById('chart4'))\r\n      let option={\r\n        tooltip: {    //提示框组件\r\n          trigger: 'item',    //触发类型，默认：item（数据项图形触发，主要在散点图，饼图等无类目轴的图表中使用）。可选：'axis'：坐标轴触发，主要在柱状图，折线图等会使用类目轴的图表中使用。'none':什么都不触发。\r\n          triggerOn: 'mousemove'    //提示框触发的条件，默认mousemove|click（鼠标点击和移动时触发）。可选mousemove：鼠标移动时，click：鼠标点击时，none：\r\n        },\r\n        series: [    //系列列表\r\n          {\r\n            type: 'tree',    //树形结构\r\n\r\n            data: [this.oneData],    //上面从flare.json中得到的数据\r\n\r\n            top: '1%',       //距离上\r\n            left: '7%',      //左\r\n            bottom: '1%',    //下\r\n            right: '20%',    //右的距离\r\n\r\n            symbolSize: 7,   //标记的大小，就是那个小圆圈，默认7\r\n\r\n            label: {         //每个节点所对应的标签的样式\r\n              normal: {\r\n                position: 'left',       //标签的位置\r\n                verticalAlign: 'middle',//文字垂直对齐方式，默认自动。可选：top，middle，bottom\r\n                align: 'right',         //文字水平对齐方式，默认自动。可选：top，center，bottom\r\n                fontSize: 9             //标签文字大小\r\n              }\r\n            },\r\n\r\n            leaves: {    //叶子节点的特殊配置，如上面的树图示例中，叶子节点和非叶子节点的标签位置不同\r\n              label: {\r\n                normal: {\r\n                  position: 'right',\r\n                  verticalAlign: 'middle',\r\n                  align: 'left'\r\n                }\r\n              }\r\n            },\r\n\r\n            expandAndCollapse: true,    //子树折叠和展开的交互，默认打开\r\n            animationDuration: 550,     //初始动画的时长，支持回调函数,默认1000\r\n            animationDurationUpdate: 750//数据更新动画的时长，默认300\r\n          }\r\n        ]\r\n      }\r\n      pie.setOption(option)\r\n    },\r\n    buildPie() {\r\n      console.log('build')\r\n      console.log(this.relatedArticle)\r\n      let pie1 = echarts.init(document.getElementById('chart1'))\r\n      let pie2 = echarts.init(document.getElementById('chart2'))\r\n      var pieData = [];\r\n      var Ydata = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];\r\n      console.log('re')\r\n      for (var i = 0; i < this.relatedArticle.length - 1; i++) {\r\n        console.log(this.relatedArticle[i]._source.title)\r\n        console.log(this.relatedArticle[i]._score)\r\n        pieData.push({value: this.relatedArticle[i]._score, name: this.relatedArticle[i]._source.title})\r\n      }\r\n      console.log('jixu')\r\n      console.log(this.$store.state.citation_by_year.length)\r\n      console.log(this.$store.state.citation_by_year[0].year)\r\n      for (var j = 0; j < this.$store.state.citation_by_year.length; j++) {\r\n        console.log('sjia')\r\n        for (var k = 1992; k < 2016; k++) {\r\n          // console.log(this.$store.state.citation_by_year[0].year)\r\n          // console.log('awe')\r\n          // console.log(this.$store.state.citation_by_year[j].year)\r\n          if (this.$store.state.citation_by_year[j].year === k + '') {\r\n            // console.log(this.$store.state.citation_by_year[j].year)\r\n            // console.log(k+1992)\r\n            Ydata[k - 1992] = this.$store.state.citation_by_year[j].cnt\r\n            console.log(this.$store.state.citation_by_year[j].year+','+this.$store.state.citation_by_year[j].cnt)\r\n            console.log(Ydata[k-1992])\r\n            console.log('right')\r\n          }\r\n        }\r\n      }\r\n      console.log('这里是ydata')\r\n      console.log(Ydata)\r\n      const color1 = this.randomColor()\r\n      let option1 = {\r\n        // backgroundColor: '#FFF',\r\n        tooltip: {\r\n          trigger: 'item',\r\n          formatter: \"{a} <br/>{b}  {c} ({d}%)\"\r\n        },\r\n        legend: {\r\n          data: [\r\n            {\r\n              name: 'Citation'\r\n            },\r\n          ]\r\n        },\r\n        xAxis: {\r\n          data: [1992, 1993, 1994, 1995, 1996, 1997, 1998, 1999, 2000, 2001, 2002, 2003, 2004, 2005, 2006, 2007, 2008, 2009, 2010, 2011, 2012, 2013, 2014, 2015]\r\n        },\r\n        yAxis: [\r\n          {\r\n            name: 'Citation',\r\n            axisLine: {\r\n              lineStyle: {\r\n                color: color1,\r\n                width: 1,\r\n              }\r\n            }\r\n          },\r\n        ],\r\n        series: [\r\n          {\r\n            name: 'Citation',\r\n            type: 'bar',\r\n            data: Ydata,\r\n            itemStyle: {\r\n              color: color1,\r\n            }\r\n          },\r\n        ]\r\n      }\r\n      let option2 = {\r\n        title: {\r\n          text: '相关文献',\r\n          x: 'center'\r\n        },\r\n        tooltip: {\r\n          trigger: 'item',\r\n          formatter: \"{a} <br/>{b}  {c} ({d}%)\"\r\n        },\r\n        series: [\r\n          {\r\n            name: '成员被引用量',\r\n            type: 'pie',\r\n            radius: ['30%', '70%'],\r\n            itemStyle: {\r\n              borderRadius: 10,\r\n              borderColor: '#fff',\r\n              borderWidth: 2\r\n            },\r\n            data: this.addColor(pieData)\r\n          }\r\n        ]\r\n      }\r\n      pie1.setOption(option1)\r\n      pie2.setOption(option2)\r\n    },\r\n    addColor(list) {\r\n      // console.log(list)\r\n      let res = list\r\n      for (let i = 0; i < list.length; i++) {\r\n        let item = list[i]\r\n        // console.log(item)\r\n        item['itemStyle'] = {color: this.randomColor()}\r\n      }\r\n      return res;\r\n    },\r\n    randomColor() {\r\n      let r = Math.floor(Math.random() * 120);\r\n      let g = Math.floor(Math.random() * 120);\r\n      let b = Math.floor(Math.random() * 256);\r\n      let color = `rgb(${r},${g},${b})`\r\n      // let color= '#' + r.toString(16) + g.toString(16) + b.toString(16);\r\n      return color;\r\n    },\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n#chart1 {\r\n  /*width: 80%;*/\r\n  height: 500px;\r\n\r\n}\r\n\r\n#chart2 {\r\n  /*width: 80%;*/\r\n  height: 500px;\r\n\r\n}\r\n.tree{\r\n  margin-top: 20px;\r\n  background: white;\r\n  box-shadow: 0 2px 12px 0 rgba(0, 0, 0, 0.2);\r\n  border-radius: 4px;\r\n}\r\n.articleType {\r\n  width: 60px;\r\n  background: lightblue;\r\n  border-radius: 2px;\r\n  text-align: center;\r\n}\r\n\r\n.grey {\r\n  background: rgba(221, 221, 221, 0.3);\r\n  /*height: 400px;*/\r\n  /*height: 1000px;*/\r\n  /*width: 100%;*/\r\n}\r\n\r\n.bigFrame {\r\n  /*height: 300px;*/\r\n  width: 66%;\r\n  background: white;\r\n  border-radius: 2px;\r\n  /*margin: auto;*/\r\n  margin-left: 10%;\r\n  /*margin-bottom: 30px;*/\r\n  box-shadow: 0 2px 12px 0 rgba(0, 0, 0, 0.2)\r\n}\r\n\r\n.upFrame {\r\n  height: 50px;\r\n  border-bottom: rgba(0, 0, 0, .12) solid 1px;\r\n}\r\n\r\n.upFrameContent {\r\n  padding: 12px;\r\n  margin-left: 15px;\r\n  font-size: 18px;\r\n}\r\n\r\n.downFrame {\r\n  border-bottom: lightgrey solid 1px;\r\n}\r\n\r\n.downFrameContent {\r\n  padding: 30px;\r\n}\r\n\r\n.textFrame {\r\n  width: 80%;\r\n  margin-left: 10%;\r\n}\r\n\r\n.textFrameContent {\r\n  padding: 20px;\r\n  margin: auto;\r\n  width: 90%;\r\n\r\n}\r\n\r\n.textFrameContentButton {\r\n  margin: auto;\r\n  text-align: center;\r\n}\r\n\r\n.textFrameContentMain {\r\n  text-align: right;\r\n  color: darkgray;\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.textBigFrame {\r\n  width: 100%;\r\n  background: white;\r\n  border-radius: 2px;\r\n  margin-bottom: 30px;\r\n  box-shadow: 0 4px 6px rgba(0, 0, 0, .12), 0 0 6px rgba(0, 0, 0, .04)\r\n}\r\n\r\n.textUpFrameContent {\r\n  /*padding: 15px;*/\r\n  /*margin-left: 15px;*/\r\n  background: rgba(221, 221, 221, 0.3);\r\n  border-bottom: rgba(0, 0, 0, .12) solid 1px;\r\n  height: 50px;\r\n}\r\n\r\n/*.statsFrame{*/\r\n/*  width: 80%;*/\r\n/*  margin: auto;*/\r\n/*  background: white;*/\r\n/*  !*box-shadow: 0 2px 12px 0 rgba(0, 0, 0, 0.2);*!*/\r\n/*  margin-bottom: 10px;*/\r\n/*}*/\r\n.statsContent {\r\n  float: left;\r\n  width: 21.5%;\r\n  /*border: lightgrey solid 1px;*/\r\n  height: 80px;\r\n  padding: 10px;\r\n}\r\n\r\n.statsFrameContent {\r\n  padding: 25px;\r\n}\r\n\r\n.rightFrame {\r\n  width: 25%;\r\n  float: right;\r\n  margin-right: 10%;\r\n  background: white;\r\n  box-shadow: 0 4px 6px rgba(0, 0, 0, .12), 0 0 6px rgba(0, 0, 0, .04)\r\n}\r\n\r\n.rightPartContent {\r\n  font-size: 13px;\r\n  margin-bottom: 2px;\r\n}\r\n\r\n.notAbstract {\r\n  width: 100%;\r\n  height: 200px;\r\n  border: lightgray solid 1px;\r\n}\r\n\r\n.stats {\r\n  /*width: 80%;*/\r\n  /*margin-left: 10%;*/\r\n  overflow: hidden;\r\n}\r\n\r\n.statsContent {\r\n  float: left;\r\n  width: 21.5%;\r\n  /*border: lightgrey solid 1px;*/\r\n  height: 80px;\r\n  padding: 10px;\r\n}\r\n\r\n.statsFrameContent {\r\n  padding: 25px;\r\n}\r\n\r\n.statsFrame {\r\n  width: 46%;\r\n  margin: 10px auto;\r\n  margin-left: 10px;\r\n  float: left;\r\n  background: white;\r\n  box-shadow: 0 2px 12px 0 rgba(0, 0, 0, 0.2);\r\n  /*margin-bottom: 10px;*/\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/views/article/Overviews.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"grey\"},[_c('div',{staticStyle:{\"height\":\"20px\"}}),_vm._v(\" \"),_c('div',{staticStyle:{\"height\":\"100%\",\"width\":\"100%\",\"overflow\":\"hidden\",\"margin-bottom\":\"5px\"}},[_c('div',{staticClass:\"bigFrame\",staticStyle:{\"float\":\"left\",\"margin-bottom\":\"10px\"}},[_vm._m(0),_vm._v(\" \"),_c('div',{staticClass:\"downFrame\"},[_c('div',{staticClass:\"downFrameContent\"},[(this.$store.state.abstract === '')?_c('div',[_vm._m(1)]):_c('div',[_vm._v(\"\\n            \"+_vm._s(this.$store.state.abstract)+\"\\n          \")])])])])]),_vm._v(\" \"),_c('div',{staticStyle:{\"height\":\"20px\"}}),_vm._v(\" \"),_vm._m(2)])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"upFrame\"},[_c('div',{staticClass:\"upFrameContent\"},[_vm._v(\"摘要\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"notAbstract\"},[_c('div',{staticStyle:{\"height\":\"30px\"}}),_vm._v(\" \"),_c('div',{staticStyle:{\"text-align\":\"center\"}},[_c('img',{attrs:{\"src\":require(\"@/assets/无摘要.png\")}})]),_vm._v(\" \"),_c('div',{staticStyle:{\"text-align\":\"center\"}},[_vm._v(\"\\n                无摘要\\n              \")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"textFrame\"},[_c('div',{staticStyle:{\"height\":\"20px\"}}),_vm._v(\" \"),_c('div',{staticClass:\"stats\"},[_c('div',{staticClass:\"statsFrame\"},[_c('div',{staticClass:\"upFrame\"},[_c('div',{staticClass:\"upFrameContent\"},[_vm._v(\"引 用 量\")])]),_vm._v(\" \"),_c('div',{staticClass:\"downFrame\"},[_c('div',{staticClass:\"statsFrameContent\"},[_c('div',{attrs:{\"id\":\"chart1\"}})])])]),_vm._v(\" \"),_c('div',{staticStyle:{\"width\":\"4%\",\"float\":\"left\",\"height\":\"10px\"}}),_vm._v(\" \"),_c('div',{staticClass:\"statsFrame\"},[_c('div',{staticClass:\"upFrame\"},[_c('div',{staticClass:\"upFrameContent\"},[_vm._v(\"相 关 文 献\")])]),_vm._v(\" \"),_c('div',{staticClass:\"downFrame\"},[_c('div',{staticClass:\"statsFrameContent\"},[_c('div',{attrs:{\"id\":\"chart2\"}})])])])]),_vm._v(\" \"),_c('div',{staticClass:\"tree\",staticStyle:{\"height\":\"600px\",\"width\":\"70%\"}},[_c('div',{staticClass:\"upFrame\"},[_c('div',{staticClass:\"upFrameContent\"},[_vm._v(\"引用文献\")])]),_vm._v(\" \"),_c('div',{staticClass:\"downFrame\"},[_c('div',{staticClass:\"statsFrameContent\"},[_c('div',{staticStyle:{\"height\":\"500px\"},attrs:{\"id\":\"chart4\"}})])])]),_vm._v(\" \"),_c('div',{staticStyle:{\"height\":\"20px\"}})])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-b6b9524a\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/article/Overviews.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true,\\\"minimize\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-b6b9524a\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Overviews.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Overviews.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Overviews.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-b6b9524a\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./Overviews.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-b6b9524a\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/article/Overviews.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}